/*! For license information please see main.a98d104d.chunk.js.LICENSE.txt */
(this["webpackJsonplevelup-budgeting"]=this["webpackJsonplevelup-budgeting"]||[]).push([[0],{55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(23),s=a.n(r),l=a(7);var o={set:function(e,t){try{return"object"===typeof t&&(t=JSON.stringify(t)),sessionStorage.setItem(e,t)}catch(a){console.log(a)}},setLocal:function(e,t){try{return"object"===typeof t&&(t=JSON.stringify(t)),localStorage.setItem(e,t)}catch(a){console.log(a)}},get:function(e){try{var t=sessionStorage.getItem(e)||null;if(null!==t)try{return JSON.parse(t)}catch(a){return t}return t}catch(a){console.log(a)}},getLocal:function(e){try{var t=localStorage.getItem(e)||null;if(null!==t)try{return JSON.parse(t)}catch(a){return t}return t}catch(a){console.log(a)}},remove:function(e){try{return sessionStorage.removeItem(e)||!1}catch(t){console.log(t)}},removeLocal:function(e){try{return localStorage.removeItem(e)||!1}catch(t){console.log(t)}},clear:function(){try{return sessionStorage.clear()||!1}catch(e){console.log(e)}},clearLocal:function(){try{return localStorage.clear()||!1}catch(e){console.log(e)}}},u=a(4),i=a(2),d=a.n(i),j=a(5),b=a(3),p=a(11),h=a.n(p);h.a.defaults.baseURL="/api/",h.a.defaults.headers.common={"Content-type":"application/json; charset=UTF-8"},h.a.interceptors.response.use(null,(function(e){return console.log(e),e.response.status>=400&&503===e.response.status&&o.remove("token"),Promise.reject({data:e})}));var m=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O(t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(j.a)(d.a.mark((function e(t,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O().then((function(e){return h.a.post(t,a,{headers:{Authorization:"Bearer ".concat(e)}})})).catch((function(e){console.log(e),503===e.data.response.status&&o.remove("token")}));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),O=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,n,c=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:null,e.prev=1,(a=o.get("token")||null)||!t){e.next=9;break}return e.next=6,h.a.post("auth/",S(t));case 6:n=e.sent,console.log(n),200===n.status&&(a=n.data,o.set("token",a));case 9:return e.abrupt("return",a);case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("get/",S({request:"envelopes/all"}));case 3:return t=e.sent,e.abrupt("return",200===t.status?t.data:[{}]);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("get/",S({request:"envelopes/id",id:t}));case 3:return a=e.sent,e.abrupt("return",200===a.status?a.data:"Error!");case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("get/",S({request:"envelopes/new"}));case 3:return t=e.sent,e.abrupt("return",200===t.status?t.data:[{}]);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("get/",S({request:"summary/all",data:t}));case 3:return a=e.sent,e.abrupt("return",200===a.status?a.data:[{}]);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("get/",S({request:"summary/account",data:t}));case 3:return a=e.sent,console.log(a),e.abrupt("return",200===a.status?a.data:[{}]);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("post/",S({request:"envelopes/edit/total",data:t}));case 3:return a=e.sent,e.abrupt("return",200===a.status?a.data:"Error!");case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("post/",S({request:"envelopes/edit",data:t}));case 3:return a=e.sent,e.abrupt("return",200===a.status?a.data:"Error!");case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("post/",S({request:"envelopes/pin",data:t}));case 3:return a=e.sent,e.abrupt("return",200===a.status?a.data:"Error!");case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("post/",S({request:"envelopes/add",data:t}));case 3:return a=e.sent,e.abrupt("return",200===a.status?a.data:"Error!");case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("delete/",S({request:"envelope",data:t}));case 3:return a=e.sent,e.abrupt("return",200===a.status?a.data:"Error!");case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),S=function(e){return JSON.stringify(e)},M=a(6),D=a.n(M),E=a(0),Q=function(e){var t=Object(n.useState)(!0),a=Object(b.a)(t,2),c=a[0],r=a[1];return Object(E.jsx)("nav",{className:"navbar navbar-expand-sm navbar-light",children:Object(E.jsxs)("div",{className:"container-fluid",children:[Object(E.jsx)(l.a,{to:"/",className:"navbar-brand",children:Object(E.jsx)("img",{src:"data:image/png;base64,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",alt:"Envelopes",title:"Envelopes"})}),Object(E.jsx)("button",{className:"navbar-toggler",onClick:function(){return r(!c)},children:Object(E.jsx)("span",{className:"navbar-toggler-icon"})}),Object(E.jsxs)("div",{className:"navbar-collapse justify-content-between "+(c?"collapse":"collapsed"),children:[Object(E.jsxs)("ul",{className:"navbar-nav",children:[Object(E.jsx)("li",{className:"nav-item",children:Object(E.jsx)(l.a,{to:"/",getProps:function(e){return e.isCurrent?{className:"nav-link active"}:{className:"nav-link"}},children:"Envelopes"})}),Object(E.jsx)("li",{className:"nav-item",children:Object(E.jsx)(l.a,{to:"/summary",getProps:function(e){return e.isPartiallyCurrent?{className:"nav-link active"}:{className:"nav-link"}},children:"Summary"})})]}),Object(E.jsx)("ul",{className:"navbar-nav",children:Object(E.jsx)("li",{className:"nav-item",children:Object(E.jsx)(l.a,{to:"/logout",className:"nav-link",children:"Logout"})})})]})]})})},F=function(e){return Object(E.jsx)("footer",{className:"footer",children:Object(E.jsx)("div",{className:"container-fluid",children:Object(E.jsx)(l.a,{to:"/",className:"navbar-brand",children:"Budgeting"})})})},z=function(e){var t=e.props,a=e.showPercent,n="";t.percentage&&(n=t.percentage);return Object(E.jsxs)("div",{className:"circle-graph",children:[Object(E.jsxs)("div",{className:"circle "+function(){if(t.goal){if(n>=100)return"c100";if(n>=80)return"c80";if(n>=60)return"c60";if(n>=40)return"c40";if(n>=20)return"c20";if(n>=0)return"c0"}}(),style:function(){if(t.goal)return{backgroundImage:"conic-gradient(#eae9e9 ".concat(n=100-n,"%, transparent 0)")}}(),children:[Object(E.jsx)("div",{className:"mobile-line",style:{width:n+"%"}}),t.goal?Object(E.jsxs)("div",{className:"amount",children:[Object(E.jsxs)("h3",{children:["$",t.total]}),Object(E.jsxs)("small",{children:["of ",Object(E.jsxs)("b",{children:["$",t.goal]})," reached"]})]}):Object(E.jsxs)("h3",{className:"amount",children:["$",t.total]})]}),a&&t.percentage>0&&Object(E.jsx)("div",{className:"text-center mt-3",children:Object(E.jsxs)("h4",{children:[Math.round(t.percentage),"% complete"]})})]})},q=a(8),B=function(e){var t=e.text,a=e.className,n=e.action,c=e.children,r=Object(q.a)(e,["text","className","action","children"]);return Object(E.jsxs)("button",Object(u.a)(Object(u.a)({},r),{},{className:"btn "+(a||a),onClick:function(e){return function(e){e.preventDefault(),n(e)}(e)},children:[t,c]}))},T=function(e){var t=e.props,a=e.link,n=e.linkText,c=e.tagClick,r=e.pin;return Object(E.jsxs)("div",{className:"card",children:[Object(E.jsxs)("div",{className:"flex-wrapper w-100",children:["undefined"!==typeof t.pinned&&Object(E.jsx)(B,{className:"pin",action:function(){return r(t.id)},children:Object(E.jsx)("span",{className:t.pinned?"pinned":"",children:"\u2605"})}),Object(E.jsx)(B,{className:"",action:function(){return c(t.tag.name)},children:t.tag&&Object(E.jsx)("span",{className:"badge bg-"+t.tag.color,children:t.tag.name})})]}),Object(E.jsx)(z,{props:t.values}),Object(E.jsxs)("div",{className:"card-body",children:[Object(E.jsx)("h5",{className:"card-title",children:t.name}),Object(E.jsx)("p",{className:"card-text",children:t.desc}),a&&Object(E.jsx)(l.a,{to:a,className:"btn btn-light float-end",children:n})]})]})},V=function(e){var t=Object(n.useState)(null),a=Object(b.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(null),i=Object(b.a)(s,2),p=i[0],h=i[1],m=Object(n.useState)(null),f=Object(b.a)(m,2),O=f[0],x=f[1],g=Object(n.useState)(null),N=Object(b.a)(g,2),w=N[0],k=N[1],y=Object(n.useState)(null),C=Object(b.a)(y,2),I=C[0],S=C[1],M=Object(n.useCallback)(Object(j.a)(d.a.mark((function e(){var t,a,n,c=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:null){e.next=12;break}return e.next=4,v();case 4:a=e.sent,n=a.data,r(n),o.set("all-envelopes",n),V(n),P(n),e.next=14;break;case 12:o.set("envelopes",t),V(t);case 14:case"end":return e.stop()}}),e)}))),[]);Object(n.useEffect)((function(){M(c)}),[M,c]);var z=function(e){var t=o.get("all-envelopes"),a=Object.values(t).filter((function(t){return t.tag.name===e}));M(a),q(a)},q=function(e){var t={};Object.values(e).forEach((function(e){t.tag=e.tag,t.total=t.total?(Number(t.total)+Number(e.values.total)).toFixed(2):e.values.total})),S(Object(u.a)({},t))},V=function(e){var t=[],a=[];console.log(e),Object.values(e).forEach((function(e){e.pinned||t.push(Object(E.jsx)(T,{props:e,link:"/envelope/"+e.id,linkText:"Manage",tagClick:function(e){return z(e)},pin:function(e){return J(e)}},e.id))})),Object.values(e).forEach((function(e){e.pinned&&a.push(Object(E.jsx)(T,{props:e,link:"/envelope/"+e.id,linkText:"Manage",tagClick:function(e){return z(e)},pin:function(e){return J(e)}},e.id))})),h(t),x(a)},P=function(e){var t=[];Object.values(e).forEach((function(e){t.push(e.tag)}));var a=t.filter((function(e,t,a){return a.findIndex((function(t){return JSON.stringify(t)===JSON.stringify(e)}))===t}));k(Object.values(a).map((function(e){return Object(E.jsx)(B,{className:"tag",action:function(){return z(e.name)},children:e&&Object(E.jsx)("span",{className:"badge bg-"+e.color,children:e.name})},e.name)})))},J=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.get("envelopes"),e.next=3,A({id:t});case 3:a&&(n=Object.values(a).findIndex((function(e){return e.id===t})),a[n].pinned=!a[n].pinned,r(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Q,{}),Object(E.jsx)("section",{children:Object(E.jsxs)("div",{className:"container",children:[Object(E.jsxs)("div",{className:"flex-wrapper mobile-apart shadow-box mb-4",children:[Object(E.jsx)("h1",{children:"Envelopes"}),Object(E.jsx)(l.a,{className:"btn btn-light btn-add",title:"Add envelope",to:"/envelope/new/",children:"+"})]}),Object(E.jsx)("div",{className:"small",children:"Quick filter"}),Object(E.jsx)("div",{className:"flex-wrapper start mb-3",children:!D.a.isEmpty(w)&&w}),I&&Object(E.jsxs)("div",{className:"flex-wrapper m-space mb-3",children:[Object(E.jsx)("div",{className:"info-tag badge bg-"+I.tag.color,children:I.tag.name}),Object(E.jsxs)("div",{className:"info-tag badge total",children:["Total $",I.total]}),Object(E.jsx)(B,{className:"btn-close info-tag badge",action:function(){return M(c),void S(null)}})]}),!D.a.isEmpty(O)&&!I&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{className:"small",children:"Favorites"}),Object(E.jsx)("div",{className:"card-wrapper",children:O}),Object(E.jsx)("hr",{})]}),(!D.a.isEmpty(p)||!D.a.isEmpty(O))&&Object(E.jsxs)("div",{className:"card-wrapper "+(!O&&p.length<4?"center":""),children:[I&&O," ",p]})]})}),Object(E.jsx)(F,{})]})},P=function(e){var t=e.props,a=e.link,n=e.linkText;return Object(E.jsxs)("div",{className:"summary-card",children:[Object(E.jsxs)("div",{className:"card pt-3",children:[Object(E.jsx)(z,{props:t.values}),Object(E.jsxs)("div",{className:"card-body",children:[Object(E.jsx)("h5",{className:"card-title",children:t.name}),Object(E.jsx)("p",{className:"card-text",children:t.desc}),a&&Object(E.jsx)(l.a,{to:a,className:"btn btn-light float-end",children:n})]})]}),Object(E.jsx)("div",{className:"card text-center border-"+(t.amount>=0?"success":"danger"),children:Object(E.jsxs)("h3",{className:"mt-1",children:["$",t.amount]})})]})},J=function(e){var t=Object(n.useState)(null),a=Object(b.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(null),l=Object(b.a)(s,2),o=l[0],u=l[1];Object(n.useEffect)((function(){i()}),[]);var i=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:t=e.sent,a=t.data,p(a.accounts),h(a.history);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(e){r(Object.values(e).map((function(e,t){return Object(E.jsx)(P,{props:e,link:"/summary/"+e.name,linkText:"Explore"},t)})))},h=function(e){u(Object.values(e).map((function(e,t){return Object(E.jsx)(T,{props:e},t)})))};return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Q,{}),Object(E.jsx)("section",{children:Object(E.jsxs)("div",{className:"container",children:[Object(E.jsx)("div",{className:"flex-wrapper mobile-apart shadow-box mb-4",children:Object(E.jsx)("h1",{children:"Summary"})}),Object(E.jsxs)("div",{children:[!D.a.isEmpty(c)&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("h2",{children:"Accounts"}),Object(E.jsx)("p",{children:"Here is an overview of your accounts."}),Object(E.jsx)("div",{className:"card-wrapper "+(c.length<4?"center":""),children:c})]}),!D.a.isEmpty(o)&&Object(E.jsxs)("div",{className:"mt-5",children:[Object(E.jsx)("h2",{children:"Transaction Methods"}),Object(E.jsx)("p",{children:"This shows the inflow and outflow of funds for each transaction method."}),Object(E.jsx)("div",{className:"card-wrapper center",children:o})]})]})]})}),Object(E.jsx)(F,{})]})},X=function(e){var t=e.name,a=e.type,n=void 0===a?"text":a,c=e.label,r=e.help,s=e.value,l=e.placeholder,o=e.disabled,i=void 0!==o&&o,d=e.className,j=e.onChange,b=e.required,p=e.error,h=Object(q.a)(e,["name","type","label","help","value","placeholder","disabled","className","onChange","required","error"]);return Object(E.jsxs)("div",{className:"mb-3",children:[Object(E.jsx)("label",{forhtml:t,className:"form-label "+(b?"required":""),children:c}),p&&Object(E.jsx)("span",{className:"error",children:"Required"}),Object(E.jsx)("input",Object(u.a)({type:n,name:t,id:t,value:i?"":s&&s,placeholder:l&&l,className:"form-control "+(d||d),"aria-describedby":t+"HelpBlock",onChange:function(e){return j(e.target)},disabled:i},h)),r&&Object(E.jsx)("div",{id:t+"HelpBlock",className:"form-text",children:r})]})},H=function(e){var t=e.name,a=(e.type,e.label),n=e.help,c=e.checked,r=e.disabled,s=void 0!==r&&r,l=e.className,o=e.onChange,u=e.defaultValue,i=(Object(q.a)(e,["name","type","label","help","checked","disabled","className","onChange","defaultValue"]),function(e){o(e)});return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("div",{className:"form-check",children:[Object(E.jsx)("input",{className:"form-check-input "+(l||l),type:"checkbox",name:t,id:t,checked:c,onChange:function(e){return i(e.target)},defaultValue:u,disabled:s}),Object(E.jsx)("label",{className:"form-check-label",forhtml:t,children:a})]}),n&&Object(E.jsx)("div",{id:t+"HelpBlock",className:"form-text",children:n})]})},L=(a.p,function(){var e=Object(n.useState)({}),t=Object(b.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),s=Object(b.a)(r,2),l=s[0],i=s[1],p=Object(n.useState)(""),h=Object(b.a)(p,2),f=h[0],O=h[1],v=Object(n.useState)(!1),x=Object(b.a)(v,2),g=x[0],N=x[1],w=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c({}),""!==l){e.next=4;break}return c(Object(u.a)(Object(u.a)({},a),{},{email:!0})),e.abrupt("return");case 4:if(""!==f){e.next=7;break}return c(Object(u.a)(Object(u.a)({},a),{},{password:!0})),e.abrupt("return");case 7:return g&&o.setLocal("deviceID",(new Date).getTime()),e.next=10,m({request:"user/login",data:{email:l,password:f}});case 10:(t=e.sent)&&(window.location.href="/"),console.log(t);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsx)("div",{className:"login-page",children:Object(E.jsx)("section",{className:"login",children:Object(E.jsxs)("div",{className:"container shadow-box",children:[Object(E.jsx)("h1",{children:"Login"}),Object(E.jsxs)("form",{className:"fg-3 mb-5 mt-4",children:[Object(E.jsx)(X,{type:"email",required:!0,error:a.email,value:l,placeholder:"john.doe@email.com",onChange:function(e){return i(e.value)},label:"Username",name:"email"}),Object(E.jsx)(X,{type:"password",required:!0,error:a.password,value:f,onChange:function(e){return O(e.value)},label:"Password",name:"password"}),Object(E.jsxs)("div",{className:"flex-wrapper m-space align-center",children:[Object(E.jsx)(B,{className:"btn-light w-100 mw-150 dashed",action:function(){return w()},children:"Login"}),Object(E.jsx)(H,{checked:g,onChange:function(e){return N(e.checked)},label:"Remember this device?",name:"keepLogin"})]})]})]})})})}),R=function(){o.clear(),window.location.replace("/login")},Z=function(e,t){if(!isNaN(e%1))return e=e.length>t.length?e.length<2?parseFloat(e/100).toFixed(2):(10*Number(e)).toFixed(2):(Number(e)/10).toFixed(2)},G=function(e){return e?e[0].toUpperCase()+e.slice(1):""},U={defaultMethod:"Credit",defaultDepositMethod:"Bank",methods:[{name:"Credit",value:"Credit"},{name:"Bank",value:"Bank"},{name:"Cash",value:"Cash"}],tagOptions:[{name:"blue",value:"primary"},{name:"grey",value:"secondary"},{name:"green",value:"success"},{name:"red",value:"danger"},{name:"yellow",value:"warning"},{name:"teal",value:"info"},{name:"black",value:"dark"}],newEnvelope:{id:null,name:"",account:"",desc:"",tag:{name:"",color:"primary"},defaultSource:"",values:{goal:"",total:"",percentage:""}}},W=function(e){var t=e.name,a=e.label,n=e.help,c=(e.type,e.value),r=e.placeholder,s=e.adjustableClick,l=e.disabled,o=void 0!==l&&l,i=e.onChange,d=e.className,j=Object(q.a)(e,["name","label","help","type","value","placeholder","adjustableClick","disabled","onChange","className"]);return Object(E.jsxs)("div",{className:"mb-3",children:[Object(E.jsx)("label",{forhtml:t,className:"form-label",children:a}),Object(E.jsxs)("div",{className:"flex-wrapper m-space",children:[Object(E.jsx)("input",Object(u.a)({type:"text",name:t,id:t,value:o?"":c&&c,placeholder:r&&r,className:"form-control "+(d||d),"aria-describedby":t+"HelpBlock",onChange:function(e){return i(e.target)},disabled:o},j)),o&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(B,{text:"+",className:"btn btn-primary fg-1",action:function(){return s(!0)}}),Object(E.jsx)(B,{text:"\u2212",className:"btn btn-warning fg-1",action:function(){return s(!1)}})]})]}),n&&Object(E.jsx)("div",{id:t+"HelpBlock",className:"form-text",children:n})]})},K=function(e){var t=e.name,a=e.label,n=e.help,c=(e.type,e.value),r=e.placeholder,s=e.onChange,l=e.disabled,o=void 0!==l&&l,i=Object(q.a)(e,["name","label","help","type","value","placeholder","onChange","disabled"]);return Object(E.jsxs)("div",{className:"text-edit-wrapper",children:[a&&Object(E.jsx)("label",{forhtml:t,className:"form-label",children:a}),Object(E.jsx)("textarea",Object(u.a)({name:t,id:t,value:o?"":c&&c,placeholder:r&&r,className:"form-control","aria-describedby":t+"HelpBlock",onChange:function(e){return s(e.target)},disabled:o},i)),n&&Object(E.jsx)("div",{id:t+"HelpBlock",className:"form-text",children:n})]})},Y=function(e){var t=e.name,a=e.type,n=void 0===a?"text":a,c=e.label,r=e.help,s=e.options,l=e.placeholder,o=e.disabled,i=void 0!==o&&o,d=e.className,j=e.onChange,b=e.defaultValue,p=Object(q.a)(e,["name","type","label","help","options","placeholder","disabled","className","onChange","defaultValue"]),h=function(e){j(e)};return Object(E.jsxs)("div",{className:"mb-3",children:[Object(E.jsx)("label",{forhtml:t,className:"form-label",children:c}),Object(E.jsx)("select",Object(u.a)(Object(u.a)({type:n,name:t,id:t,placeholder:l&&l,className:"form-select "+(d||d),"aria-describedby":t+"HelpBlock",onChange:function(e){return h(e.target)},defaultValue:b,disabled:i},p),{},{children:s&&Object.values(s).map((function(e){return e.override?e.value:Object(E.jsx)("option",{value:e.value,children:e.name},e.value)}))})),r&&Object(E.jsx)("div",{id:t+"HelpBlock",className:"form-text",children:r})]})},$=function(e){var t=e.name,a=e.type,c=void 0===a?"text":a,r=e.label,s=e.help,l=e.options,o=e.placeholder,i=e.disabled,d=void 0!==i&&i,j=e.className,p=e.onChange,h=e.defaultValue,m=Object(q.a)(e,["name","type","label","help","options","placeholder","disabled","className","onChange","defaultValue"]),f=Object(n.useState)(h),O=Object(b.a)(f,2),v=O[0],x=O[1],g=function(e){x(e.value),p(e)};return Object(E.jsxs)("div",{className:"mb-3",children:[Object(E.jsx)("label",{forhtml:t,className:"form-label",children:r}),Object(E.jsx)("select",Object(u.a)(Object(u.a)({type:c,name:t,id:t,placeholder:o&&o,className:"form-select color-select "+(v?"bg-"+v:"")+" "+(j||j),"aria-describedby":t+"HelpBlock",onChange:function(e){return g(e.target)},defaultValue:h,disabled:d},m),{},{children:l&&Object.values(l).map((function(e){return Object(E.jsx)("option",{value:e.value,children:e.name},e.value)}))})),s&&Object(E.jsx)("div",{id:t+"HelpBlock",className:"form-text",children:s})]})},_=function(e){var t=e.props;return Object(E.jsx)("div",{className:"shadow-box-table",children:Object(E.jsxs)("table",{className:"table",children:[function(){var e=[];return Object.entries(t[0]).forEach((function(t,a){"id"!==t[0]&&e.push(Object(E.jsx)("th",{scope:"col",children:t[0]},a))})),Object(E.jsx)("thead",{className:"table-header",children:Object(E.jsx)("tr",{children:e})})}(),function(){var e=[];return Object.values(t).forEach((function(t,a){var n=[];Object.entries(t).forEach((function(e,t){"id"!==e[0]&&n.push(Object(E.jsx)("td",{children:e[1]},t))})),e.push(Object(E.jsx)("tr",{className:Number(t.Amount)>=0?"deposit":"",children:n},a))})),Object(E.jsx)("tbody",{children:e})}()]})})},ee=function(e){var t=e.id,a=Object(n.useRef)(null),c=Object(n.useState)({}),r=Object(b.a)(c,2),s=r[0],l=r[1],o=Object(n.useState)({}),i=Object(b.a)(o,2),p=i[0],h=i[1],m=Object(n.useState)(!0),f=Object(b.a)(m,2),O=f[0],v=f[1],g=Object(n.useState)(!1),N=Object(b.a)(g,2),w=N[0],A=N[1],C=Object(n.useState)(!1),S=Object(b.a)(C,2),M=S[0],q=S[1],T=Object(n.useState)(""),V=Object(b.a)(T,2),P=V[0],J=V[1],H=Object(n.useState)(""),L=Object(b.a)(H,2),R=L[0],ee=L[1],te=U.tagOptions;Object(n.useEffect)((function(){t&&ae(t)}),[t]);var ae=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t);case 2:a=e.sent,n=a.data,console.log(n),l(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;A(!1),q(!1),J(""),ee(""),null!==e&&(e?A(!0):q(!0),setTimeout((function(){return re()}),100))},ce=function(e,t){"+"===t&&(e=Z(e,P))&&J(e),"-"===t&&(e=Z(e,R))&&ee(e)},re=function(){a.current.scrollIntoView({behavior:"smooth"})},se=function(e){var t=s;switch(e.name){case"desc":t.desc=e.value;break;case"source":t.source=G(e.value);break;case"method":t.method=G(e.value);break;case"inflowMmethod":t.inflowMethod=G(e.value);break;case"goal":t.values.goal=e.value;break;case"total":t.values.total=e.value;break;case"tag":t.tag.name=e.value;break;case"tag-color":t.tag.color=e.value;break;default:return}l(Object(u.a)(Object(u.a)({},s),t))},le=function(e,t){var a=new Date;a=a.getMonth()+1+"/"+a.getDate()+"/"+a.getFullYear(),D.a.isEmpty(e.method)&&(e.method=D.a.isEmpty(R)?e.defaultDepositMethod:e.defaultMethod),e.history&&e.history.unshift({Date:a,Amount:t,Source:!D.a.isEmpty(R)&&G(e.source),Method:e.method}),l(Object(u.a)(Object(u.a)({},s),e)),oe(e,t)},oe=function(){var e=Object(j.a)(d.a.mark((function e(t,a){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={id:t.id,amount:a,total:t.values.total,source:!D.a.isEmpty(R)&&G(t.source),method:t.method},e.next=3,k(n);case 3:c=e.sent,console.log(c),J(""),ee("");case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ue=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(t=s).history,e.next=4,y(t);case 4:a=e.sent,console.log(a),v(!O);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(s),e.next=3,I({id:s.id});case 3:e.sent&&window.location.replace("/");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Q,{}),Object(E.jsx)("section",{children:!D.a.isEmpty(s)&&Object(E.jsxs)("div",{className:"container envelope",children:[Object(E.jsx)("div",{className:"shadow-box",children:Object(E.jsx)("h1",{children:s.name})}),Object(E.jsxs)("div",{className:"flex-wrapper start mt-5",children:[Object(E.jsx)("div",{className:"circle-graph-wrapper fg-1",children:Object(E.jsx)(z,{props:s.values,showPercent:!0})}),Object(E.jsxs)("form",{className:"fg-3 mb-5",children:[Object(E.jsxs)("div",{className:"flex-wrapper",children:[O?Object(E.jsx)("h4",{className:"tag mb-4",children:Object(E.jsx)("span",{className:"badge bg-"+s.tag.color,children:s.tag.name})}):Object(E.jsxs)("div",{className:"flex m-space",children:[Object(E.jsx)(X,{value:s.tag.name,onChange:function(e){return se(e)},className:"mw-150",label:"Tag name",name:"tag"}),Object(E.jsx)($,{defaultValue:s.tag.color,options:te,onChange:function(e){return se(e)},className:"mw-150 mt-2",name:"tag-color"})]}),O?Object(E.jsxs)(B,{className:"btn-edit btn-light",action:function(){return v(!O),void h(D.a.cloneDeep(s))},children:["Edit envelope ",Object(E.jsx)("span",{className:"edit"})]}):Object(E.jsxs)("div",{className:"flex m-space edit-mobile-wrapper",children:[Object(E.jsx)(B,{className:"btn-edit btn-success",action:function(){return ue()},children:"Save envelope"}),Object(E.jsx)(B,{className:"btn-close mt-2",title:"Cancel",action:function(){return l(Object(u.a)({},p)),void v(!O)}})]})]}),Object(E.jsx)("h5",{children:"Description"}),Object(E.jsx)(K,{disabled:O,value:s.desc&&s.desc,placeholder:s.desc&&s.desc,name:"desc",onChange:function(e){return se(e)}}),Object(E.jsx)("h5",{children:"Amounts"}),Object(E.jsxs)("div",{className:"flex-wrapper m-space shadow-box",children:[Object(E.jsx)(X,{disabled:O,value:s.values.goal?s.values.goal:"",placeholder:s.values.goal&&"$"+s.values.goal,onChange:function(e){return se(e)},className:"mw-150",label:"Goal",name:"goal",help:"Desired goal to reach."}),Object(E.jsxs)("div",{ref:a,className:"flex column",children:[Object(E.jsx)(W,{disabled:O,value:s.values&&s.values.total,placeholder:s.values&&"$"+s.values.total,adjustableClick:function(e){return ne(e)},onChange:function(e){return se(e)},className:"mw-150",label:"Total",name:"total",help:"Current amount in envelope."}),Object(E.jsxs)("div",{className:"input-button-wrapper",children:[w&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(X,{help:"Enter amount to add.",className:"mw-150",name:"add-total",value:P,onChange:function(e){return ce(e.value,"+")}}),Object(E.jsx)(B,{text:"Add",className:"btn-success",action:function(){return function(){var e=s;e.values.total=(Number(e.values.total)+Number(P)).toFixed(2),e.values.goal&&(e.values.percentage=Math.round(e.values.total/e.values.goal*100)),le(e,P)}()}}),Object(E.jsx)(B,{className:"btn-close",action:function(){return ne()}})]}),M&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(X,{type:"number",help:"Enter amount to subtract.",className:"mw-150",name:"sub-total",value:R,onChange:function(e){return ce(e.value,"-")}}),Object(E.jsx)(B,{text:"Subtract",className:"btn-warning",action:function(){return function(){var e=s;e.values.total=(Number(e.values.total)-Number(R)).toFixed(2),e.values.goal&&(e.values.percentage=Math.round(e.values.total/e.values.goal*100)),le(e,"-"+R)}()}}),Object(E.jsx)(B,{className:"btn-close",action:function(){return ne()}})]})]})]}),Object(E.jsxs)("div",{children:[w&&Object(E.jsx)(Y,{label:"Method",defaultValue:s.defaultDepositMethod&&s.defaultDepositMethod,onChange:function(e){return se(e)},className:"mw-150",name:"inflowMethod",options:U.methods}),M&&Object(E.jsx)(Y,{label:"Method",defaultValue:s.defaultMethod&&s.defaultMethod,onChange:function(e){return se(e)},className:"mw-150",name:"method",options:U.methods}),M&&Object(E.jsx)("div",{style:{marginTop:"33px"},children:Object(E.jsx)(X,{label:"Source",help:"Enter source of transaction.",className:"mw-150",name:"source",value:s.source&&s.source,onChange:function(e){return se(e)}})})]})]}),!O&&Object(E.jsx)(B,{className:"btn-edit btn-danger mt-5 w-100",action:function(){return ie()},children:"Delete envelope"})]})]}),!D.a.isEmpty(s.history)&&Object(E.jsxs)("div",{children:[Object(E.jsx)("h5",{children:"Transactions"}),Object(E.jsx)(_,{props:s.history})]})]})}),Object(E.jsx)(F,{})]})},te=function(){var e=Object(n.useState)(U.newEnvelope),t=Object(b.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(null),s=Object(b.a)(r,2),o=s[0],i=s[1],p=Object(n.useState)(null),h=Object(b.a)(p,2),m=h[0],f=h[1],O=Object(n.useState)(!1),v=Object(b.a)(O,2),x=v[0],N=v[1],w=Object(n.useState)(!1),k=Object(b.a)(w,2),y=k[0],A=k[1],I=Object(n.useState)(U.tagOptions),S=Object(b.a)(I,2),M=S[0],q=(S[1],Object(n.useState)({})),T=Object(b.a)(q,2),V=T[0],P=T[1],J=Object(n.useState)(""),H=Object(b.a)(J,2),L=H[0],R=H[1],G=Object(n.useState)(""),W=Object(b.a)(G,2),_=W[0],ee=W[1],te=Object(n.useState)(0),ae=Object(b.a)(te,2),ne=ae[0],ce=ae[1];Object(n.useEffect)((function(){return re()}),[]);var re=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:t=e.sent,a=t.data,console.log(a),a.tags&&a.tags.push({name:"Create new",value:"showOther"}),a.accounts&&a.accounts.push({name:"Create new",value:"showOther"}),i(a.accounts),f(a.tags);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(e,t){"total"===t&&((e=Z(e,L))&&R(e),_>0&&ce(e/_*100)),"goal"===t&&((e=Z(e,_))&&ee(e),e>0&&ce(L/e*100))},le=function(e){var t=a;switch(e.name){case"name":t.name=e.value;break;case"account":t.account=e.value;break;case"desc":t.desc=e.value;break;case"source":t.defaultMethod=e.value;break;case"tag":t.tag.name=e.value;break;case"current-tags":if("showOther"===e.value)N(!0),t.tag.color=U.tagOptions[0].value;else{N(!1),t.tag.name=e.value;var n=m.find((function(t){return t.value===e.value}));t.tag.color=n.color}break;case"current-accounts":"showOther"===e.value?A(!0):(A(!1),t.account=e.value);break;case"tag-color":t.tag.color=e.value;break;default:return}c(Object(u.a)(Object(u.a)({},a),t))},oe=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P({}),(t=a).values.goal=_,t.values.total=L,""!==t.name){e.next=7;break}return P(Object(u.a)(Object(u.a)({},V),{},{name:!0})),e.abrupt("return");case 7:return e.next=9,C(t);case 9:n=e.sent,console.log(n),(r=U.newEnvelope).name="",c(r),R(""),ee("");case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Q,{}),Object(E.jsx)("section",{children:!D.a.isEmpty(a)&&Object(E.jsxs)("div",{className:"container new-envelope",children:[Object(E.jsxs)("div",{className:"flex-wrapper",children:[Object(E.jsx)(X,{required:!0,error:V.name,value:a.name&&a.name,placeholder:"Groceries",onChange:function(e){return le(e)},className:"mw-150",label:"Envelope name",name:"name"}),Object(E.jsxs)("div",{className:"flex m-space edit-mobile-wrapper mt-4",children:[Object(E.jsx)(B,{className:"btn-edit btn-success",action:function(){return oe()},children:"Add new envelope"}),Object(E.jsx)(l.a,{className:"btn btn-close mt-2",title:"Cancel",to:"/"})]})]}),Object(E.jsx)("hr",{}),Object(E.jsxs)("div",{className:"flex-wrapper start no-wrap mt-5",children:[Object(E.jsx)("div",{className:"mr-auto fg-1 circle-graph-wrapper",children:Object(E.jsx)(z,{props:{goal:_,total:L,percentage:ne},showPercent:!0})}),Object(E.jsxs)("form",{className:"fg-3 mb-5",children:[Object(E.jsxs)("div",{className:"flex m-space",children:[Object(E.jsx)(Y,{label:"Tags",onChange:function(e){return le(e)},name:"current-tags",options:m&&m}),x&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(X,{value:a.tag.name,placeholder:"Food",onChange:function(e){return le(e)},className:"mw-150",label:"New tag name",name:"tag"}),Object(E.jsx)($,{defaultValue:a.tag.color,options:M,onChange:function(e){return le(e)},className:"mw-150 mt-2",name:"tag-color"})]})]}),Object(E.jsx)("h5",{children:"Description"}),Object(E.jsx)(K,{value:a.desc&&a.desc,placeholder:"Add a description of this envelope",name:"desc",onChange:function(e){return le(e)}}),Object(E.jsx)("h5",{children:"Amounts"}),Object(E.jsxs)("div",{className:"flex-wrapper m-space mb-5 shadow-box",children:[Object(E.jsx)(X,{value:_,placeholder:"$100.00",onChange:function(e){return se(e.value,"goal")},label:"Goal",name:"goal",help:"Desired goal to reach."}),Object(E.jsx)(X,{value:L,placeholder:"$20.00",onChange:function(e){return se(e.value,"total")},label:"Total",name:"total",help:"Current amount in envelope."})]}),Object(E.jsx)("h5",{children:"Default methods"}),Object(E.jsxs)("div",{className:"flex-wrapper m-space mb-5 shadow-box",children:[Object(E.jsx)(Y,{label:"Default deposit method",defaultValue:U.defaultDepositMethod&&U.defaultDepositMethod,onChange:function(e){return le(e)},name:"depositMethod",options:U.methods,help:"Set default method for deposits."}),Object(E.jsx)(Y,{label:"Default withdraw method",defaultValue:U.defaultMethod&&U.defaultMethod,onChange:function(e){return le(e)},name:"method",options:U.methods,help:"Set default method for withdrawals."})]}),Object(E.jsx)("h5",{children:"Account"}),Object(E.jsxs)("div",{className:"flex-wrapper m-space mb-5 shadow-box",children:[Object(E.jsx)(Y,{label:"Linked account",defaultValue:U.defaultMethod&&U.defaultMethod,onChange:function(e){return le(e)},name:"current-accounts",options:o&&o,help:"Primary location of funds."}),y&&Object(E.jsx)(X,{value:U.account,placeholder:"Savings / Cash",onChange:function(e){return le(e)},label:"Account name",name:"account"})]})]})]})]})}),Object(E.jsx)(F,{})]})},ae=function(e){var t=e.account,a=Object(n.useState)(null),c=Object(b.a)(a,2),r=c[0],s=c[1],l=Object(n.useState)(null),o=Object(b.a)(l,2),u=o[0],i=o[1];Object(n.useEffect)((function(){p()}),[]);var p=function(){var e=Object(j.a)(d.a.mark((function e(){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w({account:t});case 2:a=e.sent,n=a.data,console.log(n),h(n.summary),s(n.transactions);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(e){i(Object.entries(e).map((function(e,t){return Object(E.jsxs)("div",{children:[Object(E.jsx)("h3",{children:e[0]}),Object(E.jsxs)("h3",{children:["$",e[1]]})]})})))};return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Q,{}),Object(E.jsx)("section",{children:Object(E.jsxs)("div",{className:"container",children:[Object(E.jsx)("div",{className:"flex-wrapper mobile-apart",children:Object(E.jsx)("h1",{children:t})}),Object(E.jsx)("hr",{}),Object(E.jsx)("div",{className:"flex-wrapper mb-5",children:u&&u}),Object(E.jsx)("div",{children:!D.a.isEmpty(r)&&Object(E.jsxs)("div",{children:[Object(E.jsx)("h5",{children:"Transactions"}),Object(E.jsx)(_,{props:r})]})})]})}),Object(E.jsx)(F,{})]})},ne=function(){var e=o.get("token");return Object(E.jsxs)(l.b,{children:[e&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(V,{path:"/"}),Object(E.jsx)(J,{path:"/summary/"}),Object(E.jsx)(ae,{path:"/summary/:account"}),Object(E.jsx)(ee,{path:"/envelope/:id"}),Object(E.jsx)(te,{path:"/envelope/new/"}),Object(E.jsx)(R,{path:"/logout"})]}),Object(E.jsx)(L,{path:"/login"}),Object(E.jsx)(L,{default:!0})]})},ce=(a(55),a(56),function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,58)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))});s.a.render(Object(E.jsx)(c.a.StrictMode,{children:Object(E.jsx)(ne,{})}),document.getElementById("root")),ce()}},[[57,1,2]]]);
//# sourceMappingURL=main.a98d104d.chunk.js.map