/*! For license information please see main.93ffd434.chunk.js.LICENSE.txt */
(this["webpackJsonplevelup-budgeting"]=this["webpackJsonplevelup-budgeting"]||[]).push([[0],{404:function(e,t,a){},405:function(e,t,a){},407:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(43),s=a.n(r),l=a(7),o=a(12),i=a(134);var u={set:function(e,t){try{return"object"===typeof t&&(t=JSON.stringify(t)),sessionStorage.setItem(e,t)}catch(a){console.log(a)}},setLocal:function(e,t){try{return"object"===typeof t&&(t=JSON.stringify(t)),localStorage.setItem(e,t)}catch(a){console.log(a)}},get:function(e){try{var t=sessionStorage.getItem(e)||null;if(null!==t)try{return JSON.parse(t)}catch(a){return t}return t}catch(a){console.log(a)}},getLocal:function(e){try{var t=localStorage.getItem(e)||null;if(null!==t)try{return JSON.parse(t)}catch(a){return t}return t}catch(a){console.log(a)}},remove:function(e){try{return sessionStorage.removeItem(e)||!1}catch(t){console.log(t)}},removeLocal:function(e){try{return localStorage.removeItem(e)||!1}catch(t){console.log(t)}},clear:function(){try{return sessionStorage.clear()||!1}catch(e){console.log(e)}},clearLocal:function(){try{return localStorage.clear()||!1}catch(e){console.log(e)}}},d=a(0),j=function(e,t){return Object(o.a)(Object(o.a)({},e),t)},b=c.a.createContext(),m=function(e){var t=Object(n.useReducer)(j,function(){try{var e=u.get("token")||null;if(e){var t=Object(i.a)(e);return(t=new Date(t.exp))<new Date&&window.location.replace("/logout"),Object(i.a)(e)}return{}}catch(a){console.log(a)}}()),a=Object(l.a)(t,2),c=a[0],r=a[1];return Object(d.jsx)(b.Provider,{value:{user:c,updateUser:r},children:e.children})},p=a(33),h=a(18),f=function(e,t){if(!isNaN(e%1))return e=e.length>t.length?e.length<2?parseFloat(e/100).toFixed(2):(10*Number(e)).toFixed(2):(Number(e)/10).toFixed(2)},O=function(e){return e?e[0].toUpperCase()+e.slice(1):""},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?(u.clear(),u.set("inactive","You have been logged out due to inactivity.")):u.clear(),window.location.replace("/login")},x=a(16),g=a.n(x),w=a(6),N=a.n(w),y=a(15),k=a(74),C=a.n(k);C.a.defaults.baseURL="/api/",C.a.defaults.headers.common={"Content-type":"application/json; charset=UTF-8"},C.a.interceptors.response.use(null,(function(e){if(e.response.status>=400){var t=e.response;t.data.message&&p.b.error(t.data.message),503===e.response.status&&u.remove("token")}return Promise.reject({data:e})}));var S=function(){var e=Object(y.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D(t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(y.a)(N.a.mark((function e(t,a){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D().then((function(e){return C.a.post(t,a,{headers:{Authorization:"Bearer ".concat(e)}})})).catch((function(e){console.log(e),503===e.data.response.status&&u.remove("token")}));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),D=function(){var e=Object(y.a)(N.a.mark((function e(){var t,a,n,c=arguments;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:null,e.prev=1,(a=u.get("token")||null)||!t){e.next=9;break}return e.next=6,C.a.post("auth/",I(t));case 6:n=e.sent,console.log(n),200===n.status&&(a=n.data,u.set("token",a));case 9:return e.abrupt("return",a);case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(y.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E("get/",I({request:"envelopes/all"}));case 3:return t=e.sent,e.abrupt("return",200===t.status?t.data:[{}]);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(y.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E("get/",I({request:"envelopes/id",id:t}));case 3:return a=e.sent,e.abrupt("return",200===a.status?a.data:"Error!");case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(y.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E("get/",I({request:"envelopes/new"}));case 3:return t=e.sent,e.abrupt("return",200===t.status?t.data:[{}]);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(y.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E("get/",I({request:"summary/all",data:t}));case 3:return a=e.sent,e.abrupt("return",200===a.status?a.data:[{}]);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(y.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E("get/",I({request:"summary/account",data:t}));case 3:return a=e.sent,console.log(a.data),e.abrupt("return",200===a.status?a.data:[{}]);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(y.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E("post/",I({request:"envelopes/edit/total",data:t}));case 3:return a=e.sent,e.abrupt("return",200===a.status?a.data:"Error!");case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(y.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E("post/",I({request:"envelopes/edit",data:t}));case 3:return a=e.sent,e.abrupt("return",200===a.status?a.data:"Error!");case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(y.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E("post/",I({request:"envelopes/pin",data:t}));case 3:return a=e.sent,e.abrupt("return",200===a.status?a.data:"Error!");case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(y.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E("post/",I({request:"envelopes/add",data:t}));case 3:return a=e.sent,e.abrupt("return",200===a.status?a.data:"Error!");case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(y.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E("delete/",I({request:"envelope",data:t}));case 3:return a=e.sent,e.abrupt("return",200===a.status?a.data:"Error!");case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),I=function(e){return JSON.stringify(e)},$=a.p+"static/media/profile-icon.ea333606.png",H=a(24),J=function(e){var t=e.text,a=e.className,n=e.action,c=e.children,r=Object(H.a)(e,["text","className","action","children"]);return Object(d.jsxs)("button",Object(o.a)(Object(o.a)({},r),{},{className:"btn "+(a||a),onClick:function(e){return function(e){e.preventDefault(),n(e)}(e)},children:[t,c]}))},U=function(e){var t=Object(n.useState)(!0),a=Object(l.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(!1),o=Object(l.a)(s,2),i=o[0],u=o[1];return Object(d.jsx)("nav",{className:"navbar navbar-expand-sm navbar-light",children:Object(d.jsxs)("div",{className:"container-fluid",children:[Object(d.jsx)(h.a,{to:"/",className:"navbar-brand"}),Object(d.jsx)("button",{className:"navbar-toggler",onClick:function(){return r(!c)},children:Object(d.jsx)("span",{className:"navbar-toggler-icon"})}),Object(d.jsxs)("div",{className:"navbar-collapse justify-content-between "+(c?"collapse":"collapsed"),children:[Object(d.jsxs)("ul",{className:"navbar-nav",children:[Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(h.a,{to:"/",getProps:function(e){return e.isCurrent?{className:"nav-link active"}:{className:"nav-link"}},children:"Envelopes"})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(h.a,{to:"/summary",getProps:function(e){return e.isPartiallyCurrent?{className:"nav-link active"}:{className:"nav-link"}},children:"Summary"})})]}),Object(d.jsx)("ul",{className:"navbar-nav",children:Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(J,{className:"btn-profile",action:function(){return u(!i)},children:Object(d.jsx)("img",{src:$,alt:"profile"})})})}),Object(d.jsxs)("ul",{className:"navbar-nav toggle-nav-menu "+(i?"show":"hide"),children:[Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(h.a,{to:"/profile",className:"nav-link",children:"Profile"})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(h.a,{to:"/logout",className:"nav-link",children:"Logout"})})]})]})]})})},W=function(e){return Object(d.jsx)("footer",{className:"footer",children:Object(d.jsx)("div",{className:"container-fluid",children:Object(d.jsx)(h.a,{to:"/",className:"navbar-brand",children:"Budgeting"})})})},Y=function(e){var t=e.props,a=e.showPercent,n="";t.percentage&&(n=t.percentage);return Object(d.jsxs)("div",{className:"circle-graph",children:[Object(d.jsxs)("div",{className:"circle "+function(){if(t.goal){if(n>=100)return"c100";if(n>=80)return"c80";if(n>=60)return"c60";if(n>=40)return"c40";if(n>=20)return"c20";if(n>=0)return"c0"}}(),style:function(){if(t.goal)return{backgroundImage:"conic-gradient(#eae9e9 ".concat(n=100-n,"%, transparent 0)")}}(),children:[Object(d.jsx)("div",{className:"mobile-line",style:{width:n+"%"}}),t.goal?Object(d.jsxs)("div",{className:"amount",children:[Object(d.jsxs)("h3",{children:["$",t.total]}),Object(d.jsxs)("small",{children:["of ",Object(d.jsxs)("b",{children:["$",t.goal]})," reached"]})]}):Object(d.jsxs)("h3",{className:"amount",children:["$",t.total]})]}),a&&t.percentage>0&&Object(d.jsx)("div",{className:"text-center mt-3",children:Object(d.jsxs)("h4",{children:[Math.round(t.percentage),"% complete"]})})]})},G=function(e){var t=e.name,a=e.type,n=void 0===a?"text":a,c=e.label,r=e.help,s=e.value,l=e.placeholder,i=e.disabled,u=void 0!==i&&i,j=e.className,b=e.onChange,m=e.required,p=e.error,h=e.errorDetailed,f=Object(H.a)(e,["name","type","label","help","value","placeholder","disabled","className","onChange","required","error","errorDetailed"]);return Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{forhtml:t,className:"form-label "+(m?"required":""),children:c}),p&&Object(d.jsx)("span",{className:"error",children:"Required"}),Object(d.jsx)("input",Object(o.a)({type:n,name:t,id:t,value:u?"":s&&s,placeholder:l&&l,className:"form-control "+(j||j),onChange:function(e){return b(e.target)},disabled:u},f)),r&&Object(d.jsx)("div",{id:t+"HelpBlock",className:"form-text",children:r}),h&&Object(d.jsx)("div",{className:"form-text error",children:h})]})},z=function(e){var t=e.props,a=e.link,c=e.linkText,r=e.tagClick,s=e.pin,o=e.input1,i=e.input2,u=Object(n.useState)(!1),j=Object(l.a)(u,2),b=j[0],m=j[1],p=Object(n.useState)(o?o.value:""),v=Object(l.a)(p,2),x=v[0],w=v[1],k=Object(n.useState)(i?i.value:""),C=Object(l.a)(k,2),S=C[0],E=C[1],D=function(){var e=Object(y.a)(N.a.mark((function e(){var a,n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={id:t.id,amount:S,total:(t.values.total-S).toFixed(2),source:!g.a.isEmpty(x)&&O(x)},e.next=3,L(a);case 3:n=e.sent,console.log(n),w(""),E(""),m(!1),i.update({id:t.id,amount:S,total:a.total,percentage:Math.round(a.total/t.values.goal*100)});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"card",onClick:function(e){return function(e){if(o||i){var t=e.target.className;!t.startsWith("form-control")&&!t.startsWith("btn")&&m(!b)}}(e)},children:[Object(d.jsxs)("div",{className:"flex-wrapper w-100",children:["undefined"!==typeof t.pinned&&Object(d.jsx)(J,{className:"pin",action:function(){return s(t.id)},children:Object(d.jsx)("span",{className:t.pinned?"pinned":"",children:"\u2605"})}),Object(d.jsx)(J,{className:"",action:function(){return r(t.tag.name)},children:t.tag&&Object(d.jsx)("span",{className:"badge bg-"+t.tag.color,children:t.tag.name})})]}),Object(d.jsx)(Y,{props:t.values}),Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsx)("h5",{className:"card-title",children:t.name}),Object(d.jsx)("p",{className:"card-text",children:t.desc}),a&&Object(d.jsx)(h.a,{to:a,className:"btn btn-light float-end",children:c}),Object(d.jsxs)("div",{className:"quick-expand"+(b?"":" hide"),children:[o&&Object(d.jsx)("div",{className:"card-input-wrapper",children:Object(d.jsx)(G,{label:"Source",name:o.name,value:x,placeholder:"Store",onChange:function(e){return w(e.value)}})}),i&&Object(d.jsxs)("div",{className:"card-input-wrapper",children:[Object(d.jsx)(G,{name:i.name,value:S,placeholder:"$",onChange:function(e){return t=e.value,void(g.a.isEmpty(t)||(t=f(t,S))&&E(t));var t}}),Object(d.jsx)(J,{text:"\u2212",className:"btn-warning",action:function(){return D()}})]})]})]})]})},Q=function(e){var t=Object(n.useState)(null),a=Object(l.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(null),i=Object(l.a)(s,2),j=i[0],b=i[1],m=Object(n.useState)(null),p=Object(l.a)(m,2),f=p[0],O=p[1],v=Object(n.useState)(null),x=Object(l.a)(v,2),w=x[0],k=x[1],C=Object(n.useState)(null),S=Object(l.a)(C,2),E=S[0],D=S[1],F=Object(n.useCallback)(Object(y.a)(N.a.mark((function e(){var t,a,n,c=arguments;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:null){e.next=12;break}return e.next=4,M();case 4:a=e.sent,n=a.data,u.set("all-envelopes",n),L(n),V(n),r(n),e.next=14;break;case 12:u.set("envelopes",t),L(t);case 14:case"end":return e.stop()}}),e)}))),[]);Object(n.useEffect)((function(){F(c)}),[F,c]);var P=function(e){var t=u.get("all-envelopes"),a=Object.values(t).filter((function(t){return t.tag.name===e}));F(a),R(a)},R=function(e){var t={};Object.values(e).forEach((function(e){t.tag=e.tag,t.total=t.total?(Number(t.total)+Number(e.values.total)).toFixed(2):e.values.total})),D(Object(o.a)({},t))},T=function(e){var t=u.get("all-envelopes"),a=Object.values(t).filter((function(t){return t.id===e.id}));a[0].values.total=e.total,a[0].values.percentage=e.percentage,F(Object(o.a)(Object(o.a)({},t),a))},L=function(e){var t=[],a=[];Object.values(e).forEach((function(e){e.pinned||t.push(Object(d.jsx)(z,{props:e,link:"/envelope/"+e.id,linkText:"Manage",tagClick:function(e){return P(e)},pin:function(e){return q(e)},input1:{name:"quickSource-"+e.id,value:""},input2:{name:"quickValue-"+e.id,value:"",update:function(e){return T(e)}}},e.id))})),Object.values(e).forEach((function(e){e.pinned&&a.push(Object(d.jsx)(z,{props:e,link:"/envelope/"+e.id,linkText:"Manage",tagClick:function(e){return P(e)},pin:function(e){return q(e)},input1:{name:"quickSource-"+e.id,value:""},input2:{name:"quickValue-"+e.id,value:"",update:function(e){return T(e)}}},e.id))})),b(t),O(a)},V=function(e){var t=[];Object.values(e).forEach((function(e){t.push(e.tag)}));var a=t.filter((function(e,t,a){return a.findIndex((function(t){return JSON.stringify(t)===JSON.stringify(e)}))===t}));k(Object.values(a).map((function(e){return Object(d.jsx)(J,{className:"tag",action:function(){return P(e.name)},children:e&&Object(d.jsx)("span",{className:"badge bg-"+e.color,children:e.name})},e.name)})))},q=function(){var e=Object(y.a)(N.a.mark((function e(t){var a,n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.get("envelopes"),e.next=3,A({id:t});case 3:a&&(n=Object.values(a).findIndex((function(e){return e.id===t})),a[n].pinned=!a[n].pinned,r(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(U,{}),Object(d.jsx)("section",{children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsxs)("div",{className:"flex-wrapper mobile-apart shadow-box mb-4",children:[Object(d.jsx)("h1",{children:"Envelopes"}),Object(d.jsx)(h.a,{className:"btn btn-light btn-add",title:"Add envelope",to:"/envelope/new/",children:"+"})]}),Object(d.jsx)("div",{className:"small",children:"Quick filter"}),Object(d.jsx)("div",{className:"flex-wrapper start mb-3",children:!g.a.isEmpty(w)&&w}),E&&Object(d.jsxs)("div",{className:"flex-wrapper m-space mb-3",children:[Object(d.jsx)("div",{className:"info-tag badge bg-"+E.tag.color,children:E.tag.name}),Object(d.jsxs)("div",{className:"info-tag badge total",children:["Total $",E.total]}),Object(d.jsx)(J,{className:"btn-close info-tag badge",action:function(){return F(c),void D(null)}})]}),!g.a.isEmpty(f)&&!E&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"small",children:"Favorites"}),Object(d.jsx)("div",{className:"card-wrapper",children:f}),Object(d.jsx)("hr",{})]}),(!g.a.isEmpty(j)||!g.a.isEmpty(f))&&Object(d.jsxs)("div",{className:"card-wrapper "+(!f&&j.length<4?"center":""),children:[E&&f," ",j]})]})}),Object(d.jsx)(W,{})]})},K=function(e){var t=e.props,a=e.link,n=e.linkText;return Object(d.jsxs)("div",{className:"summary-card",children:[Object(d.jsxs)("div",{className:"card pt-3",children:[Object(d.jsx)(Y,{props:t.values}),Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsx)("h5",{className:"card-title",children:t.name}),Object(d.jsx)("p",{className:"card-text",children:t.desc}),a&&Object(d.jsx)(h.a,{to:a,className:"btn btn-light float-end",children:n})]})]}),Object(d.jsx)("div",{className:"card text-center border-"+(t.amount>=0?"success":"danger"),children:Object(d.jsxs)("h3",{className:"mt-1",children:["$",t.amount]})})]})},X=function(e){var t=Object(n.useState)(null),a=Object(l.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(null),o=Object(l.a)(s,2),i=o[0],u=o[1];Object(n.useEffect)((function(){j()}),[]);var j=function(){var e=Object(y.a)(N.a.mark((function e(){var t,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R();case 2:t=e.sent,a=t.data,b(a.accounts),m(a.history);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(e){r(Object.values(e).map((function(e,t){return Object(d.jsx)(K,{props:e,link:"/summary/"+e.name,linkText:"Explore"},t)})))},m=function(e){u(Object.values(e).map((function(e,t){return Object(d.jsx)(z,{props:e},t)})))};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(U,{}),Object(d.jsx)("section",{children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("div",{className:"flex-wrapper mobile-apart shadow-box mb-4",children:Object(d.jsx)("h1",{children:"Summary"})}),Object(d.jsxs)("div",{children:[!g.a.isEmpty(c)&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h2",{children:"Accounts"}),Object(d.jsx)("p",{children:"Here is an overview of your accounts."}),Object(d.jsx)("div",{className:"card-wrapper "+(c.length<4?"center":""),children:c})]}),!g.a.isEmpty(i)&&Object(d.jsxs)("div",{className:"mt-5",children:[Object(d.jsx)("h2",{children:"Transaction Methods"}),Object(d.jsx)("p",{children:"This shows the inflow and outflow of funds for each transaction method."}),Object(d.jsx)("div",{className:"card-wrapper center",children:i})]})]})]})}),Object(d.jsx)(W,{})]})},Z=function(e){var t=e.name,a=(e.type,e.label),n=e.help,c=e.checked,r=e.disabled,s=void 0!==r&&r,l=e.className,o=e.onChange,i=e.defaultValue,u=(Object(H.a)(e,["name","type","label","help","checked","disabled","className","onChange","defaultValue"]),function(e){o(e)});return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"form-check",children:[Object(d.jsx)("input",{className:"form-check-input "+(l||l),type:"checkbox",name:t,id:t,checked:c,onChange:function(e){return u(e.target)},defaultValue:i,disabled:s}),Object(d.jsx)("label",{className:"form-check-label",forhtml:t,children:a})]}),n&&Object(d.jsx)("div",{id:t+"HelpBlock",className:"form-text",children:n})]})},_=function(){var e=Object(n.useState)({}),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),s=Object(l.a)(r,2),i=s[0],j=s[1],b=Object(n.useState)(""),m=Object(l.a)(b,2),p=m[0],h=m[1],f=Object(n.useState)(!1),O=Object(l.a)(f,2),v=O[0],x=O[1],g=function(){var e=Object(y.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c({}),""!==i){e.next=4;break}return c(Object(o.a)(Object(o.a)({},a),{},{email:!0})),e.abrupt("return");case 4:if(""!==p){e.next=7;break}return c(Object(o.a)(Object(o.a)({},a),{},{password:!0})),e.abrupt("return");case 7:return v&&u.setLocal("deviceID",(new Date).getTime()),e.next=10,S({request:"user/login",data:{email:i,password:p}});case 10:e.sent&&(window.location.href="/");case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsx)("div",{className:"login-page",children:Object(d.jsx)("section",{className:"login",children:Object(d.jsxs)("div",{className:"container shadow-box",children:[Object(d.jsx)("h1",{children:"Login"}),Object(d.jsxs)("form",{className:"fg-3 mb-5 mt-4",children:[Object(d.jsx)(G,{type:"email",required:!0,error:a.email,value:i,placeholder:"john.doe@email.com",onChange:function(e){return j(e.value)},label:"Username",name:"email"}),Object(d.jsx)(G,{type:"password",required:!0,error:a.password,value:p,onChange:function(e){return h(e.value)},label:"Password",name:"password"}),Object(d.jsxs)("div",{className:"flex-wrapper m-space align-center",children:[Object(d.jsx)(J,{className:"btn-light w-100 mw-150 dashed",action:function(){return g()},children:"Login"}),Object(d.jsx)(Z,{checked:v,onChange:function(e){return x(e.checked)},label:"Remember this device?",name:"keepLogin"})]})]})]})})})},ee=function(){return u.clear(),window.location.replace("/login"),Object(d.jsx)("div",{})},te=a(255),ae=a(449),ne=a(78),ce=a(66),re=a(256),se={defaultMethod:"Credit",defaultDepositMethod:"Bank",methods:[{name:"Credit",value:"Credit"},{name:"Bank",value:"Bank"},{name:"Cash",value:"Cash"}],tagOptions:[{name:"blue",value:"primary"},{name:"grey",value:"secondary"},{name:"green",value:"success"},{name:"red",value:"danger"},{name:"yellow",value:"warning"},{name:"teal",value:"info"},{name:"black",value:"dark"}],newEnvelope:{id:null,name:"",account:"",desc:"",tag:{name:"",color:"primary"},defaultSource:"",values:{goal:"",total:"",percentage:""}},date:{range:[{name:"Monthly",value:"Monthly"},{name:"Split",value:"Split"},{name:"Bi-weekly",value:"Bi-weekly"},{name:"Weekly",value:"Weekly"},{name:"Custom",value:"Custom"}],Monthly:{start:Object(te.default)(new Date),end:Object(ae.a)(new Date)},Split:{start:Object(te.default)(new Date),end:Object(ne.default)(Object(te.default)(new Date),14)},"Bi-weekly":{start:Object(ce.default)(new Date),end:Object(ne.default)(Object(re.default)(new Date),7)},Weekly:{start:Object(ce.default)(new Date),end:Object(re.default)(new Date)},Custom:{start:Object(ce.default)(new Date),end:Object(re.default)(new Date)}}},le=function(e){var t=e.name,a=e.label,n=e.help,c=(e.type,e.value),r=e.placeholder,s=e.adjustableClick,l=e.disabled,i=void 0!==l&&l,u=e.onChange,j=e.className,b=Object(H.a)(e,["name","label","help","type","value","placeholder","adjustableClick","disabled","onChange","className"]);return Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{forhtml:t,className:"form-label",children:a}),Object(d.jsxs)("div",{className:"flex-wrapper m-space",children:[Object(d.jsx)("input",Object(o.a)({type:"text",name:t,id:t,value:i?"":c&&c,placeholder:r&&r,className:"form-control "+(j||j),onChange:function(e){return u(e.target)},disabled:i},b)),i&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(J,{text:"+",className:"btn btn-primary fg-1",action:function(){return s(!0)}}),Object(d.jsx)(J,{text:"\u2212",className:"btn btn-warning fg-1",action:function(){return s(!1)}})]})]}),n&&Object(d.jsx)("div",{id:t+"HelpBlock",className:"form-text",children:n})]})},oe=function(e){var t=e.name,a=e.label,n=e.help,c=(e.type,e.value),r=e.placeholder,s=e.onChange,l=e.disabled,i=void 0!==l&&l,u=Object(H.a)(e,["name","label","help","type","value","placeholder","onChange","disabled"]);return Object(d.jsxs)("div",{className:"text-edit-wrapper",children:[a&&Object(d.jsx)("label",{forhtml:t,className:"form-label",children:a}),Object(d.jsx)("textarea",Object(o.a)({name:t,id:t,value:i?"":c&&c,placeholder:r&&r,className:"form-control","aria-describedby":t+"HelpBlock",onChange:function(e){return s(e.target)},disabled:i},u)),n&&Object(d.jsx)("div",{id:t+"HelpBlock",className:"form-text",children:n})]})},ie=function(e){var t=e.name,a=e.type,n=void 0===a?"text":a,c=e.label,r=e.help,s=e.options,l=e.placeholder,i=e.disabled,u=void 0!==i&&i,j=e.className,b=e.onChange,m=e.defaultValue,p=Object(H.a)(e,["name","type","label","help","options","placeholder","disabled","className","onChange","defaultValue"]),h=function(e){b(e)};return Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{forhtml:t,className:"form-label",children:c}),Object(d.jsx)("select",Object(o.a)(Object(o.a)({type:n,name:t,id:t,placeholder:l&&l,className:"form-select "+(j||j),"aria-describedby":t+"HelpBlock",onChange:function(e){return h(e.target)},defaultValue:m,disabled:u},p),{},{children:s&&Object.values(s).map((function(e){return e.override?e.value:Object(d.jsx)("option",{value:e.value,children:e.name},e.value)}))})),r&&Object(d.jsx)("div",{id:t+"HelpBlock",className:"form-text",children:r})]})},ue=function(e){var t=e.name,a=e.type,c=void 0===a?"text":a,r=e.label,s=e.help,i=e.options,u=e.placeholder,j=e.disabled,b=void 0!==j&&j,m=e.className,p=e.onChange,h=e.defaultValue,f=Object(H.a)(e,["name","type","label","help","options","placeholder","disabled","className","onChange","defaultValue"]),O=Object(n.useState)(h),v=Object(l.a)(O,2),x=v[0],g=v[1],w=function(e){g(e.value),p(e)};return Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{forhtml:t,className:"form-label",children:r}),Object(d.jsx)("select",Object(o.a)(Object(o.a)({type:c,name:t,id:t,placeholder:u&&u,className:"form-select color-select "+(x?"bg-"+x:"")+" "+(m||m),"aria-describedby":t+"HelpBlock",onChange:function(e){return w(e.target)},defaultValue:h,disabled:b},f),{},{children:i&&Object.values(i).map((function(e){return Object(d.jsx)("option",{value:e.value,children:e.name},e.value)}))})),s&&Object(d.jsx)("div",{id:t+"HelpBlock",className:"form-text",children:s})]})},de=function(e){var t=e.props;return Object(d.jsx)("div",{className:"shadow-box-table",children:Object(d.jsxs)("table",{className:"table",children:[function(){var e=[];return Object.entries(t[0]).forEach((function(t,a){"id"!==t[0]&&e.push(Object(d.jsx)("th",{scope:"col",children:t[0]},a))})),Object(d.jsx)("thead",{className:"table-header",children:Object(d.jsx)("tr",{children:e})})}(),function(){var e=[];return Object.values(t).forEach((function(t,a){var n=[];Object.entries(t).forEach((function(e,t){"id"!==e[0]&&n.push(Object(d.jsx)("td",{children:e[1]},t))})),e.push(Object(d.jsx)("tr",{className:Number(t.Amount)>=0?"deposit":"",children:n},a))})),Object(d.jsx)("tbody",{children:e})}()]})})},je=function(e){var t=e.id,a=Object(n.useRef)(null),c=Object(n.useState)({}),r=Object(l.a)(c,2),s=r[0],i=r[1],u=Object(n.useState)({}),j=Object(l.a)(u,2),b=j[0],m=j[1],v=Object(n.useState)(!0),x=Object(l.a)(v,2),w=x[0],k=x[1],C=Object(n.useState)(!1),S=Object(l.a)(C,2),E=S[0],D=S[1],M=Object(n.useState)(!1),P=Object(l.a)(M,2),R=P[0],T=P[1],A=Object(n.useState)(""),q=Object(l.a)(A,2),I=q[0],$=q[1],H=Object(n.useState)(""),z=Object(l.a)(H,2),Q=z[0],K=z[1],X=se.tagOptions;Object(n.useEffect)((function(){t&&Z(t)}),[t]);var Z=function(){var e=Object(y.a)(N.a.mark((function e(t){var a,n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(t);case 2:a=e.sent,n=a.data,console.log(n),i(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;D(!1),T(!1),$(""),K(""),null!==e&&(e?D(!0):T(!0),setTimeout((function(){return te()}),100))},ee=function(e,t){"+"===t&&(g.a.isEmpty(e)||(e=f(e,I))&&$(e)),"-"===t&&(g.a.isEmpty(e)||(e=f(e,Q))&&K(e))},te=function(){a.current.scrollIntoView({behavior:"smooth"})},ae=function(e){var t=s;switch(e.name){case"desc":t.desc=e.value;break;case"source":t.source=O(e.value);break;case"method":t.method=O(e.value);break;case"inflowMmethod":t.inflowMethod=O(e.value);break;case"goal":t.values.goal=e.value;break;case"total":t.values.total=e.value;break;case"tag":t.tag.name=e.value;break;case"tag-color":t.tag.color=e.value;break;default:return}i(Object(o.a)(Object(o.a)({},s),t))},ne=function(e,t){var a=new Date;a=a.getMonth()+1+"/"+a.getDate()+"/"+a.getFullYear(),g.a.isEmpty(e.method)&&(e.method=g.a.isEmpty(Q)?e.defaultDepositMethod:e.defaultMethod),e.history&&e.history.unshift({Date:a,Amount:t,Source:!g.a.isEmpty(Q)&&O(e.source),Method:e.method}),i(Object(o.a)(Object(o.a)({},s),e)),ce(e,t)},ce=function(){var e=Object(y.a)(N.a.mark((function e(t,a){var n,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={id:t.id,amount:a,total:t.values.total,source:!g.a.isEmpty(Q)&&O(t.source),method:t.method},e.next=3,L(n);case 3:c=e.sent,console.log(c),$(""),K(""),D(!1),T(!1);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),re=function(){var e=Object(y.a)(N.a.mark((function e(){var t,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(t=s).history,e.next=4,V(t);case 4:a=e.sent,console.log(a),a&&p.b.success(a.message),k(!w);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),je=function(){var e=Object(y.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(s),e.next=3,B({id:s.id});case 3:t=e.sent,console.log(t),t&&p.b.success(t.message),Object(h.c)(-1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(U,{}),Object(d.jsx)("section",{children:!g.a.isEmpty(s)&&Object(d.jsxs)("div",{className:"container envelope",children:[Object(d.jsx)("div",{className:"shadow-box",children:Object(d.jsx)("h1",{children:s.name})}),Object(d.jsxs)("div",{className:"flex-wrapper start mt-5",children:[Object(d.jsx)("div",{className:"circle-graph-wrapper fg-1",children:Object(d.jsx)(Y,{props:s.values,showPercent:!0})}),Object(d.jsxs)("form",{className:"fg-3 mb-5",children:[Object(d.jsxs)("div",{className:"flex-wrapper",children:[w?Object(d.jsx)("h4",{className:"tag mb-4",children:Object(d.jsx)("span",{className:"badge bg-"+s.tag.color,children:s.tag.name})}):Object(d.jsxs)("div",{className:"flex m-space",children:[Object(d.jsx)(G,{value:s.tag.name,onChange:function(e){return ae(e)},className:"mw-150",label:"Tag name",name:"tag"}),Object(d.jsx)(ue,{defaultValue:s.tag.color,options:X,onChange:function(e){return ae(e)},className:"mw-150 mt-2",name:"tag-color"})]}),w?Object(d.jsxs)(J,{className:"btn-edit btn-light",action:function(){return k(!w),void m(g.a.cloneDeep(s))},children:["Edit envelope ",Object(d.jsx)("span",{className:"edit"})]}):Object(d.jsxs)("div",{className:"flex m-space edit-mobile-wrapper",children:[Object(d.jsx)(J,{className:"btn-edit btn-success",action:function(){return re()},children:"Save envelope"}),Object(d.jsx)(J,{className:"btn-close mt-2",title:"Cancel",action:function(){return i(Object(o.a)({},b)),void k(!w)}})]})]}),Object(d.jsx)("h5",{children:"Description"}),Object(d.jsx)(oe,{disabled:w,value:s.desc&&s.desc,placeholder:s.desc&&s.desc,name:"desc",onChange:function(e){return ae(e)}}),Object(d.jsx)("h5",{children:"Amounts"}),Object(d.jsxs)("div",{className:"flex-wrapper m-space shadow-box",children:[Object(d.jsx)(G,{disabled:w,value:s.values.goal?s.values.goal:"",placeholder:s.values.goal&&"$"+s.values.goal,onChange:function(e){return ae(e)},className:"mw-150",label:"Goal",name:"goal",help:"Desired goal to reach."}),Object(d.jsxs)("div",{ref:a,className:"flex column",children:[Object(d.jsx)(le,{disabled:w,value:s.values&&s.values.total,placeholder:s.values&&"$"+s.values.total,adjustableClick:function(e){return _(e)},onChange:function(e){return ae(e)},className:"mw-150",label:"Total",name:"total",help:"Current amount in envelope."}),Object(d.jsxs)("div",{className:"input-button-wrapper",children:[E&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(G,{help:"Enter amount to add.",className:"mw-150",name:"add-total",value:I,onChange:function(e){return ee(e.value,"+")}}),Object(d.jsx)(J,{text:"Add",className:"btn-success",action:function(){return function(){var e=s;e.values.total=(Number(e.values.total)+Number(I)).toFixed(2),e.values.goal&&(e.values.percentage=Math.round(e.values.total/e.values.goal*100)),ne(e,I)}()}}),Object(d.jsx)(J,{className:"btn-close",action:function(){return _()}})]}),R&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(G,{type:"number",help:"Enter amount to subtract.",className:"mw-150",name:"sub-total",value:Q,onChange:function(e){return ee(e.value,"-")}}),Object(d.jsx)(J,{text:"Subtract",className:"btn-warning",action:function(){return function(){var e=s;e.values.total=(Number(e.values.total)-Number(Q)).toFixed(2),e.values.goal&&(e.values.percentage=Math.round(e.values.total/e.values.goal*100)),ne(e,"-"+Q)}()}}),Object(d.jsx)(J,{className:"btn-close",action:function(){return _()}})]})]})]}),Object(d.jsxs)("div",{children:[E&&Object(d.jsx)(ie,{label:"Method",defaultValue:s.defaultDepositMethod&&s.defaultDepositMethod,onChange:function(e){return ae(e)},className:"mw-150",name:"inflowMethod",options:se.methods}),R&&Object(d.jsx)(ie,{label:"Method",defaultValue:s.defaultMethod&&s.defaultMethod,onChange:function(e){return ae(e)},className:"mw-150",name:"method",options:se.methods}),R&&Object(d.jsx)("div",{style:{marginTop:"33px"},children:Object(d.jsx)(G,{label:"Source",help:"Enter source of transaction.",className:"mw-150",name:"source",value:s.source&&s.source,onChange:function(e){return ae(e)}})})]})]}),!w&&Object(d.jsx)(J,{className:"btn-edit btn-danger mt-5 w-100",action:function(){return je()},children:"Delete envelope"})]})]}),!g.a.isEmpty(s.history)&&Object(d.jsxs)("div",{children:[Object(d.jsx)("h5",{children:"Transactions"}),Object(d.jsx)(de,{props:s.history})]})]})}),Object(d.jsx)(W,{})]})},be=function(){var e=Object(n.useState)(se.newEnvelope),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(null),s=Object(l.a)(r,2),i=s[0],u=s[1],j=Object(n.useState)(null),b=Object(l.a)(j,2),m=b[0],O=b[1],v=Object(n.useState)(!1),x=Object(l.a)(v,2),w=x[0],k=x[1],C=Object(n.useState)(!1),S=Object(l.a)(C,2),E=S[0],D=S[1],M=Object(n.useState)(se.tagOptions),F=Object(l.a)(M,2),R=F[0],T=(F[1],Object(n.useState)({})),L=Object(l.a)(T,2),V=L[0],A=L[1],B=Object(n.useState)(""),I=Object(l.a)(B,2),$=I[0],H=I[1],z=Object(n.useState)(""),Q=Object(l.a)(z,2),K=Q[0],X=Q[1],Z=Object(n.useState)(0),_=Object(l.a)(Z,2),ee=_[0],te=_[1];Object(n.useEffect)((function(){return ae()}),[]);var ae=function(){var e=Object(y.a)(N.a.mark((function e(){var t,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:t=e.sent,a=t.data,console.log(a),a.tags&&a.tags.push({name:"Create new",value:"showOther"}),a.accounts&&a.accounts.push({name:"Create new",value:"showOther"}),u(a.accounts),O(a.tags);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(e,t){"total"===t&&((e=f(e,$))&&H(e),K>0&&te(e/K*100)),"goal"===t&&((e=f(e,K))&&X(e),e>0&&te($/e*100))},ce=function(e){var t=a;switch(e.name){case"name":t.name=e.value;break;case"account":t.account=e.value;break;case"desc":t.desc=e.value;break;case"source":t.defaultMethod=e.value;break;case"tag":t.tag.name=e.value;break;case"current-tags":if("showOther"===e.value)k(!0),t.tag.color=se.tagOptions[0].value;else{k(!1),t.tag.name=e.value;var n=m.find((function(t){return t.value===e.value}));t.tag.color=n.color}break;case"current-accounts":"showOther"===e.value?D(!0):(D(!1),t.account=e.value);break;case"tag-color":t.tag.color=e.value;break;default:return}c(Object(o.a)(Object(o.a)({},a),t))},re=function(){var e=Object(y.a)(N.a.mark((function e(){var t,n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A({}),(t=a).values.goal=K,t.values.total=$,""!==t.name){e.next=7;break}return A(Object(o.a)(Object(o.a)({},V),{},{name:!0})),e.abrupt("return");case 7:return e.next=9,q(t);case 9:n=e.sent,console.log(n),n&&p.b.success(n.message),Object(h.c)(-1),(r=se.newEnvelope).name="",c(r),H(""),X("");case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(U,{}),Object(d.jsx)("section",{children:!g.a.isEmpty(a)&&Object(d.jsxs)("div",{className:"container new-envelope",children:[Object(d.jsxs)("div",{className:"flex-wrapper",children:[Object(d.jsx)(G,{required:!0,error:V.name,value:a.name&&a.name,placeholder:"Groceries",onChange:function(e){return ce(e)},className:"mw-150",label:"Envelope name",name:"name"}),Object(d.jsxs)("div",{className:"flex m-space edit-mobile-wrapper mt-4",children:[Object(d.jsx)(J,{className:"btn-edit btn-success",action:function(){return re()},children:"Add new envelope"}),Object(d.jsx)(h.a,{className:"btn btn-close mt-2",title:"Cancel",to:"/"})]})]}),Object(d.jsx)("hr",{}),Object(d.jsxs)("div",{className:"flex-wrapper start no-wrap mt-5",children:[Object(d.jsx)("div",{className:"mr-auto fg-1 circle-graph-wrapper",children:Object(d.jsx)(Y,{props:{goal:K,total:$,percentage:ee},showPercent:!0})}),Object(d.jsxs)("form",{className:"fg-3 mb-5",children:[Object(d.jsxs)("div",{className:"flex m-space",children:[Object(d.jsx)(ie,{label:"Tags",onChange:function(e){return ce(e)},name:"current-tags",options:m&&m}),w&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(G,{value:a.tag.name,placeholder:"Food",onChange:function(e){return ce(e)},className:"mw-150",label:"New tag name",name:"tag"}),Object(d.jsx)(ue,{defaultValue:a.tag.color,options:R,onChange:function(e){return ce(e)},className:"mw-150 mt-2",name:"tag-color"})]})]}),Object(d.jsx)("h5",{children:"Description"}),Object(d.jsx)(oe,{value:a.desc&&a.desc,placeholder:"Add a description of this envelope",name:"desc",onChange:function(e){return ce(e)}}),Object(d.jsx)("h5",{children:"Amounts"}),Object(d.jsxs)("div",{className:"flex-wrapper m-space mb-5 shadow-box",children:[Object(d.jsx)(G,{value:K,placeholder:"$100.00",onChange:function(e){return ne(e.value,"goal")},label:"Goal",name:"goal",help:"Desired goal to reach."}),Object(d.jsx)(G,{value:$,placeholder:"$20.00",onChange:function(e){return ne(e.value,"total")},label:"Total",name:"total",help:"Current amount in envelope."})]}),Object(d.jsx)("h5",{children:"Default methods"}),Object(d.jsxs)("div",{className:"flex-wrapper m-space mb-5 shadow-box",children:[Object(d.jsx)(ie,{label:"Default deposit method",defaultValue:se.defaultDepositMethod&&se.defaultDepositMethod,onChange:function(e){return ce(e)},name:"depositMethod",options:se.methods,help:"Set default method for deposits."}),Object(d.jsx)(ie,{label:"Default withdraw method",defaultValue:se.defaultMethod&&se.defaultMethod,onChange:function(e){return ce(e)},name:"method",options:se.methods,help:"Set default method for withdrawals."})]}),Object(d.jsx)("h5",{children:"Account"}),Object(d.jsxs)("div",{className:"flex-wrapper m-space mb-5 shadow-box",children:[Object(d.jsx)(ie,{label:"Linked account",defaultValue:se.defaultMethod&&se.defaultMethod,onChange:function(e){return ce(e)},name:"current-accounts",options:i&&i,help:"Primary location of funds."}),E&&Object(d.jsx)(G,{value:se.account,placeholder:"Savings / Cash",onChange:function(e){return ce(e)},label:"Account name",name:"account"})]})]})]})]})}),Object(d.jsx)(W,{})]})},me=a(409),pe=a(217),he=function(e){var t=e.data,a=e.onClick,c=Object(n.useState)(!0),r=Object(l.a)(c,2),s=r[0],o=r[1];return Object(n.useEffect)((function(){var e=window.screen.width;o(!(e<500))}),[]),window.addEventListener("resize",(function(){var e=window.screen.width;o(!(e<500))})),Object(d.jsx)(pe.a,{data:t,onClick:function(e){return a(e.id)},margin:s?{top:30,right:30,bottom:30,left:30}:{top:0,right:0,bottom:0,left:0},padAngle:1,activeOuterRadiusOffset:8,colors:{scheme:"paired"},borderColor:{from:"color",modifiers:[["darker",.6]]},enableArcLinkLabels:s,arcLinkLabelsSkipAngle:10,arcLinkLabelsTextColor:"#333333",arcLinkLabelsThickness:2,arcLinkLabelsColor:{from:"color"},arcLabel:function(e){return e.value+"%"},arcLabelsRadiusOffset:.75,arcLabelsSkipAngle:10,arcLabelsTextColor:"#333333",tooltip:function(e){var t=e.datum,a=t.id,n=t.label,c=t.color;return Object(d.jsxs)("div",{style:{display:"inline-flex",alignItems:"center",padding:5,background:"#fff",borderRadius:".25rem",boxShadow:"8px 10px 2px -4px #7777774d"},children:[Object(d.jsx)("div",{style:{width:12,height:12,marginRight:6,backgroundColor:c}}),a,": $",n]})},legends:[]})},fe=a(215),Oe=a.n(fe),ve=a.p+"static/media/calendar-icon.ccd3e2b4.svg",xe=(a(361),function(e){var t=e.account,a=Object(n.useContext)(b).user,c=Object(n.useState)(null),r=Object(l.a)(c,2),s=r[0],o=r[1],i=Object(n.useState)(null),j=Object(l.a)(i,2),m=j[0],p=j[1],h=Object(n.useState)(!1),f=Object(l.a)(h,2),O=f[0],v=f[1],x=Object(n.useState)(null),w=Object(l.a)(x,2),k=w[0],C=w[1],S=Object(n.useState)(null),E=Object(l.a)(S,2),D=E[0],M=E[1],F=Object(n.useState)(!1),P=Object(l.a)(F,2),R=P[0],L=P[1],V=Object(n.useState)(new Date),A=Object(l.a)(V,2),q=A[0],B=A[1],I=Object(n.useState)(null),$=Object(l.a)(I,2),H=$[0],Y=$[1],G=Object(n.useCallback)((function(){var e=u.get("dates")||{};g.a.isEmpty(e)?("Custom"!==a.defaultDateRange?(e.start=se.date[a.defaultDateRange].start,e.end=se.date[a.defaultDateRange].end):(e.start=new Date(a.dateRange.start),e.end=new Date(a.dateRange.end)),u.set("dates",e)):e={start:new Date(e.start),end:new Date(e.end)},z({start:Object(me.default)(e.start,"yyyy-MM-dd"),end:Object(me.default)(e.end,"yyyy-MM-dd")}),B(new Date(e.start)),Y(new Date(e.end))}),[]);Object(n.useEffect)((function(){G()}),[G]);var z=function(){var e=Object(y.a)(N.a.mark((function e(a){var n,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T({account:t,dates:a});case 2:n=e.sent,c=n.data,Q(c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(e){K(e.summary),X(e.transactions),o(e.transactions),p(e.transactions)},K=function(e){C(Object.entries(e).map((function(e,t){return Object(d.jsxs)("div",{className:"card",children:[Object(d.jsx)("h3",{children:e[0]}),Object(d.jsxs)("h3",{children:["$",e[1]]})]},t)})))},X=function(e){var t=[];Object.values(e).forEach((function(e){e.Amount<0&&(e.Amount=Number(e.Amount),null===e.Source&&(e.Source="Other"),t[e.Source]?t[e.Source]+=e.Amount:t[e.Source]=e.Amount)}));var a=0;Object.values(t).forEach((function(e){a+=e}));var n=Object.entries(t).map((function(e){var t=Math.round(e[1]/a*100);return{id:e[0],value:t,label:e[1].toFixed(2)}}));M(function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc";return e.sort((function(e,n){return"desc"===a?e[t]-n[t]:n[t]-e[t]}))}(n,"value"))};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(U,{}),Object(d.jsx)("section",{children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("div",{className:"flex-wrapper mobile-apart",children:Object(d.jsx)("h1",{children:t})}),Object(d.jsx)("hr",{}),Object(d.jsx)("div",{className:"flex-wrapper date-range-container",children:Object(d.jsx)(ie,{defaultValue:a.defaultDateRange,onChange:function(e){return t=e.value,B(se.date[t].start),Y(se.date[t].end),void z({start:Object(me.default)(se.date[t].start,"yyyy-MM-dd"),end:Object(me.default)(se.date[t].end,"yyyy-MM-dd")});var t},className:"mw-150 card",name:"dateRange",options:se.date.range,help:"Select a date range"})}),Object(d.jsxs)("div",{className:"flex-wrapper",children:[!g.a.isEmpty(D)&&Object(d.jsxs)("div",{className:"pie-chart-wrapper card",children:[R&&Object(d.jsx)(J,{className:"btn-light",text:"Reset",action:function(){return o(m),void L(!1)}}),Object(d.jsx)(he,{data:D,onClick:function(e){return function(e){var t=[];Object.values(m).forEach((function(a){null===a.Source&&(a.Source="Other"),a.Source===e&&t.push(a)})),o(t),L(!0)}(e)}})]}),Object(d.jsx)(J,{className:"btn-light mobile-calendar sticky",action:function(){return v(!O)},children:Object(d.jsx)("img",{src:ve,alt:"calendar"})}),Object(d.jsxs)("div",{className:"date-wrapper"+(O?" show":""),children:[Object(d.jsx)(J,{className:"btn-close mobile-calendar",action:function(){return v(!O)}}),Object(d.jsx)(Oe.a,{selected:q,onChange:function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1];if(B(a),Y(n),a&&n){var c={start:Object(me.default)(a,"yyyy-MM-dd"),end:Object(me.default)(n,"yyyy-MM-dd")};z(c),u.set("dates",c)}},startDate:q,endDate:H,selectsRange:!0,inline:!0})]})]}),Object(d.jsx)("div",{className:"flex-wrapper mb-5 summary-totals",children:k&&k}),Object(d.jsx)("div",{children:g.a.isEmpty(s)?Object(d.jsx)("div",{className:"shadow-box text-center pt-3",children:Object(d.jsx)("h5",{children:"No transaction history available for this date range"})}):Object(d.jsxs)("div",{children:[Object(d.jsx)("h5",{children:"Transactions"}),Object(d.jsx)(de,{props:s})]})})]})}),Object(d.jsx)(W,{})]})}),ge=function(e){var t=e.props;return Object(d.jsx)("div",{className:"popup",children:Object(d.jsxs)("div",{className:"shadow-box",children:[Object(d.jsx)(J,{className:"btn-close",action:function(){return t.closePopup()}}),t.title&&Object(d.jsx)("h3",{children:t.title}),t.content&&Object(d.jsx)("p",{children:t.content}),t.confirm&&Object(d.jsxs)("div",{className:"flex-wrapper",children:[Object(d.jsx)(J,{className:"btn-warning ",text:t.confirmYes?t.confirmYes:"Yes",action:function(e){return t.confirmResponse(!0)}}),Object(d.jsx)(J,{className:"btn-light dashed",text:t.confirmNo?t.confirmNo:"No",action:function(e){return t.confirmResponse(!1)}})]})]})})},we=function(e){var t=Object(n.useState)({name:"Test Tester",email:"test@test.com",phone:"281-281-2865",defaultDateRange:"Monthly",dates:{start:Object(me.default)(Object(te.default)(new Date),"yyyy-MM-dd"),end:Object(me.default)(Object(ne.default)(Object(te.default)(new Date),14),"yyyy-MM-dd")}}),a=Object(l.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)({password:"",verifyPassword:""}),i=Object(l.a)(s,2),u=i[0],j=i[1],b=Object(n.useState)(!1),m=Object(l.a)(b,2),p=m[0],f=m[1],v=Object(n.useState)(""),x=Object(l.a)(v,2),w=x[0],k=x[1],C=Object(n.useState)(""),S=Object(l.a)(C,2),E=S[0],D=S[1],M=Object(n.useState)(!1),F=Object(l.a)(M,2),P=F[0],T=F[1],L={Monthly:"View transactions from the start to end of current month.",Split:"View transactions from the 1st to the 15th & the 15th to the 1st.","Bi-weekly":"View transactions by every two weeks",Weekly:"View transactions by week",Custom:"Set custom range"};Object(n.useEffect)((function(){A(c.defaultDateRange),V()}),[]);var V=function(){var e=Object(y.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R();case 2:t=e.sent,t.data;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(e){k(L[e])},q=function(e){var t=c;switch(e.name){case"name":t.name=O(e.value);break;case"email":t.email=e.value;break;case"phone":t.phone=e.value;break;case"defaultDateRange":t.defaultDateRange=e.value,A(e.value);break;case"customDatesStart":t.dates.start=e.value;break;case"customDatesEnd":t.dates.end=e.value;break;default:return}r(Object(o.a)(Object(o.a)({},c),t))},B=function(e){var t=u;switch(e.name){case"password":t.password=e.value,e.value.length<7?(f(!1),D(Object(o.a)(Object(o.a)({},E),{},{password:"Must be at least 8 characters."}))):(f(!0),D(Object(o.a)(Object(o.a)({},E),{},{password:null}))),g.a.isEmpty(t.verifyPassword)||(e.value!==t.verifyPassword?D(Object(o.a)(Object(o.a)({},E),{},{password:"Passwords do not match!"})):D(Object(o.a)(Object(o.a)({},E),{},{password:null})));break;case"verifyPassword":t.verifyPassword=e.value,t.password.startsWith(e.value)?D(Object(o.a)(Object(o.a)({},E),{},{password:null})):D(Object(o.a)(Object(o.a)({},E),{},{password:"Passwords do not match!"})),g.a.isEmpty(e.value)&&D(Object(o.a)(Object(o.a)({},E),{},{password:null}));break;default:return}j(Object(o.a)(Object(o.a)({},u),t))},I=function(){var e=Object(y.a)(N.a.mark((function e(){var t,a,n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.password,a=u.verifyPassword,t===a){e.next=4;break}return D(Object(o.a)(Object(o.a)({},E),{},{password:"Passwords do not match!"})),e.abrupt("return");case 4:return e.next=6,B({password:c.password});case 6:n=e.sent,console.log(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(U,{}),Object(d.jsxs)("section",{children:[Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("div",{className:"mb-4",children:Object(d.jsx)("h1",{children:"Profile"})}),Object(d.jsx)("hr",{}),Object(d.jsx)("h5",{children:"Personal information"}),Object(d.jsxs)("div",{className:"flex-wrapper m-space mb-5 mt-3",children:[Object(d.jsx)(G,{label:"Name",help:"Update you name.",className:"",name:"name",value:c.name,onChange:function(e){return q(e)}}),Object(d.jsx)(G,{type:"email",label:"Email",help:"Update you email address.",className:"",name:"email",value:c.email,onChange:function(e){return q(e)}}),Object(d.jsx)(G,{type:"phone",label:"Phone",help:c.phone?"Update your phone number.":"Add your phone number for security.",className:"mw-150",name:"phone",value:c.phone,onChange:function(e){return q(e)}})]}),Object(d.jsx)("h5",{children:"Transaction history"}),Object(d.jsx)("p",{className:"muted",children:"Here you can specify your current pay period date ranges. This will help you see the correct data at the right time."}),Object(d.jsxs)("div",{className:"flex-wrapper m-space mb-5 mt-3",children:[Object(d.jsx)("div",{className:"mw-250",children:Object(d.jsx)(ie,{label:"Default date range",help:w,defaultValue:c.defaultDateRange,onChange:function(e){return q(e)},className:"mw-150 me-5",name:"defaultDateRange",options:se.date.range})}),"Custom"===c.defaultDateRange&&Object(d.jsxs)("div",{className:"dashed-border flex wrap",children:[Object(d.jsx)("div",{className:"mw-200 me-2",children:Object(d.jsx)(G,{type:"date",value:c.dates.start,onChange:function(e){return q(e)},className:"mw-200",label:"Set start date",name:"customDatesStart"})}),Object(d.jsx)("div",{className:"mw-200",children:Object(d.jsx)(G,{type:"date",value:c.dates.end,onChange:function(e){return q(e)},className:"mw-200",label:"Set end date",name:"customDatesEnd"})})]})]}),Object(d.jsx)("h5",{children:"Password Reset"}),Object(d.jsxs)("div",{className:"flex-wrapper m-space mb-4 mt-3",children:[Object(d.jsx)(G,{type:"password",label:"Password",help:"Update your password.",className:"",name:"password",value:c.password,onChange:function(e){return B(e)},errorDetailed:E.password}),p&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(G,{type:"password",label:"Verify password",help:"Re-enter your password.",className:"",name:"verifyPassword",value:u.verifyPassword,onChange:function(e){return B(e)}}),Object(d.jsx)("div",{style:{marginTop:32},children:Object(d.jsx)(J,{className:"btn-success",text:"Reset",action:function(){return I()}})})]})]}),Object(d.jsxs)("div",{className:"",children:[Object(d.jsx)("h5",{children:"Account Management"}),Object(d.jsxs)("p",{className:"muted",children:["If you are unhappy with your experience or have an issue, please"," ",Object(d.jsx)(h.a,{to:"/about/contact/",children:"contact us"}),". Otherwise if you wish to close your account, you can do so here. Your account will remain active until the end of your subscription."]}),Object(d.jsx)(J,{className:"btn-danger",text:"Close account",action:function(){return T(!0)}})]})]}),P&&Object(d.jsx)(ge,{props:{title:"We hate to see you go!",content:"Are you sure you want to close your account?",closePopup:function(){return T(!1)},confirm:!0,confirmYes:"Yes, please close it!",confirmResponse:function(e){!e&&T(!1)}}})]}),Object(d.jsx)(W,{})]})},Ne=function(){var e=Object(n.useContext)(b).user,t=u.get("token");return Object(n.useEffect)((function(){!g.a.isEmpty(e)&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var t=function(){clearTimeout(n),n=setTimeout((function(){v(!0)}),a)},a="30000";e&&(a=e);var n=setTimeout((function(){return v(!0)}),a);document.addEventListener("mousemove",(function(){t()})),document.addEventListener("keypress",(function(){t()}))}catch(c){console.log(c)}}(6e5);var t=u.get("inactive");t&&(Object(p.b)(t,{autoClose:!1,type:"warning"}),u.remove("inactive"))}),[e]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(p.a,{}),Object(d.jsxs)(h.b,{children:[t&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(Q,{path:"/"}),Object(d.jsx)(X,{path:"/summary/"}),Object(d.jsx)(xe,{path:"/summary/:account"}),Object(d.jsx)(je,{path:"/envelope/:id"}),Object(d.jsx)(be,{path:"/envelope/new/"}),Object(d.jsx)(we,{path:"/profile/"})]}),Object(d.jsx)(ee,{path:"/logout"}),Object(d.jsx)(_,{path:"/login"}),Object(d.jsx)(_,{default:!0})]})]})},ye=(a(403),a(404),a(405),function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,454)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))});s.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(m,{children:Object(d.jsx)(Ne,{})})}),document.getElementById("root")),ye()}},[[407,1,2]]]);
//# sourceMappingURL=main.93ffd434.chunk.js.map