/*! For license information please see main.26a034da.chunk.js.LICENSE.txt */
(this["webpackJsonplevelup-budgeting"]=this["webpackJsonplevelup-budgeting"]||[]).push([[0],{55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(23),s=a.n(r),l=a(6),o=a(3),u=a(2),i=a.n(u),d=a(5),b=a(4),j=a(11),m=a.n(j);var p={set:function(e,t){try{return"object"===typeof t&&(t=JSON.stringify(t)),sessionStorage.setItem(e,t)}catch(a){console.log(a)}},get:function(e){try{var t=sessionStorage.getItem(e)||null;if(null!==t)try{return JSON.parse(t)}catch(a){return t}return t}catch(a){console.log(a)}},remove:function(e){try{return sessionStorage.removeItem(e)||!1}catch(t){console.log(t)}}},h={request:"user/login",data:{email:"tommy@levelup.enterprises",password:"password"}};m.a.defaults.baseURL=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API,m.a.defaults.headers.common={"Content-type":"application/json; charset=UTF-8"},m.a.interceptors.response.use(null,(function(e){return console.log(e),e.response.status>=400&&503===e.response.status&&p.remove("token"),Promise.reject({data:e})}));var v=function(){var e=Object(d.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f().then((function(e){return m.a.post(t,a,{headers:{Authorization:"Bearer ".concat(e)}})})).catch((function(e){console.log(e),503===e.data.response.status&&p.remove("token")}));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),f=function(){var e=Object(d.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=p.get("token")||null){e.next=8;break}return e.next=5,m.a.post("auth/",k(h));case 5:a=e.sent,console.log(a),200===a.status&&(t=a.data,p.set("token",t));case 8:return e.abrupt("return",t);case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(d.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v("get/",k({request:"envelopes/all"}));case 3:return t=e.sent,e.abrupt("return",200===t.status?t.data:[{}]);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(d.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v("get/",k({request:"envelopes/id",id:t}));case 3:return a=e.sent,e.abrupt("return",200===a.status?a.data:"Error!");case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(d.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v("get/",k({request:"envelopes/tags"}));case 3:return t=e.sent,e.abrupt("return",200===t.status?t.data:[{}]);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(d.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v("post/",k({request:"envelopes/edit/total",data:t}));case 3:return a=e.sent,e.abrupt("return",200===a.status?a.data:"Error!");case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(d.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v("post/",k({request:"envelopes/edit",data:t}));case 3:return a=e.sent,e.abrupt("return",200===a.status?a.data:"Error!");case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(d.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v("post/",k({request:"envelopes/add",data:t}));case 3:return a=e.sent,e.abrupt("return",200===a.status?a.data:"Error!");case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),k=function(e){return JSON.stringify(e)},C=a(9),S=a.n(C),E=a(0),F=function(e){var t=Object(n.useState)(!0),a=Object(b.a)(t,2),c=a[0],r=a[1];return Object(E.jsx)("nav",{className:"navbar navbar-expand-sm navbar-light bg-light",children:Object(E.jsxs)("div",{className:"container-fluid",children:[Object(E.jsx)(l.a,{to:"/",className:"navbar-brand",children:"Budgeting"}),Object(E.jsx)("button",{className:"navbar-toggler",onClick:function(){return r(!c)},children:Object(E.jsx)("span",{className:"navbar-toggler-icon"})}),Object(E.jsxs)("div",{className:"navbar-collapse justify-content-between "+(c?"collapse":"collapsed"),children:[Object(E.jsx)("ul",{className:"navbar-nav",children:Object(E.jsx)("li",{className:"nav-item",children:Object(E.jsx)(l.a,{to:"/",className:"nav-link active",children:"Home"})})}),Object(E.jsx)("ul",{className:"navbar-nav",children:Object(E.jsx)("li",{className:"nav-item",children:Object(E.jsx)(l.a,{to:"/",className:"nav-link",children:"Logout"})})})]})]})})},T=function(e){return Object(E.jsx)("footer",{className:"footer",children:Object(E.jsx)("div",{className:"container-fluid",children:Object(E.jsx)(l.a,{to:"/",className:"navbar-brand",children:"Budgeting"})})})},B=function(e){var t=e.props,a=e.showPercent,n=t.percentage?t.percentage:"";return Object(E.jsxs)("div",{className:"circle-graph",children:[Object(E.jsxs)("div",{className:"circle "+function(){if(t.goal){if(n>=100)return"c100";if(n>=80)return"c80";if(n>=60)return"c60";if(n>=40)return"c40";if(n>=20)return"c20";if(n>=0)return"c0"}}(),style:function(){if(t.goal)return{backgroundImage:"conic-gradient(#eae9e9 ".concat(n=100-n,"%, transparent 0)")}}(),children:[Object(E.jsx)("div",{className:"mobile-line",style:{width:n+"%"}}),t.goal?Object(E.jsxs)("div",{className:"amount",children:[Object(E.jsxs)("h3",{children:["$",t.total]}),Object(E.jsxs)("small",{children:["of ",Object(E.jsxs)("b",{children:["$",t.goal]})," reached"]})]}):Object(E.jsxs)("h3",{className:"amount",children:["$",t.total]})]}),a&&t.percentage>0&&Object(E.jsx)("div",{className:"text-center mt-3",children:Object(E.jsxs)("h4",{children:[Math.round(t.percentage),"% complete"]})})]})},D=a(8),A=function(e){var t=e.text,a=e.className,n=e.action,c=e.children,r=Object(D.a)(e,["text","className","action","children"]);return Object(E.jsxs)("button",Object(o.a)(Object(o.a)({},r),{},{className:"btn "+(a||a),onClick:function(e){return function(e){e.preventDefault(),n(e)}(e)},children:[t,c]}))},H=function(e){var t=e.props,a=e.tagClick;return Object(E.jsxs)("div",{className:"card",children:[Object(E.jsx)(A,{className:"tag",action:function(){return a(t.tag.name)},children:Object(E.jsx)("span",{className:"badge bg-"+t.tag.color,children:t.tag.name})}),Object(E.jsx)(B,{props:t.values}),Object(E.jsxs)("div",{className:"card-body",children:[Object(E.jsx)("h5",{className:"card-title",children:t.name}),Object(E.jsx)("p",{className:"card-text",children:t.desc}),Object(E.jsx)(l.a,{to:"/envelope/"+t.id,className:"btn btn-light float-end",children:"Manage"})]})]})},M=function(e){var t=Object(n.useState)([{}]),a=Object(b.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(null),u=Object(b.a)(s,2),j=(u[0],u[1],Object(n.useState)(null)),m=Object(b.a)(j,2),h=m[0],v=m[1],f=Object(n.useState)(null),x=Object(b.a)(f,2),g=x[0],N=x[1],w=Object(n.useCallback)(Object(d.a)(i.a.mark((function e(){var t,a,n,c=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:null){e.next=11;break}return e.next=4,O();case 4:a=e.sent,n=a.data,r(n),p.set("envelopes",n),k(n),e.next=12;break;case 11:k(t);case 12:case"end":return e.stop()}}),e)}))),[]);Object(n.useEffect)((function(){w()}),[w]);var y=function(e){var t={};Object.values(e).forEach((function(e){t.tag=e.tag,t.total=t.total?t.total+e.values.total:e.values.total})),N(Object(o.a)({},t))},k=function(e){v(Object.values(e).map((function(e){return Object(E.jsx)(H,{props:e,tagClick:function(e){return function(e){var t=p.get("envelopes"),a=Object.values(t).filter((function(t){return t.tag.name===e}));w(a),y(a)}(e)}},e.id)})))};return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(F,{}),Object(E.jsx)("section",{children:Object(E.jsxs)("div",{className:"container",children:[Object(E.jsxs)("div",{className:"flex-wrapper",children:[Object(E.jsx)("h1",{children:"Envelopes"}),Object(E.jsx)(l.a,{className:"btn btn-light btn-add",title:"Add envelope",to:"/envelope/new/",children:"+"})]}),Object(E.jsx)("hr",{}),g&&Object(E.jsxs)("div",{className:"flex-wrapper m-space mb-3",children:[Object(E.jsx)("div",{className:"info-tag badge bg-"+g.tag.color,children:g.tag.name}),Object(E.jsxs)("div",{className:"info-tag badge total",children:["Total $",g.total]}),Object(E.jsx)(A,{className:"btn-close info-tag badge",action:function(){return w(c),void N(null)}})]}),Object(E.jsx)("div",{className:"flex-wrapper",children:!S.a.isEmpty(h)&&h})]})}),Object(E.jsx)(T,{})]})},P=function(e){return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("section",{children:Object(E.jsx)("h1",{children:"Login page"})})})},q=function(e,t){if(!isNaN(e%1))return e=e.length>t.length?e.length<2?parseFloat(e/100).toFixed(2):(10*Number(e)).toFixed(2):(Number(e)/10).toFixed(2)},V=function(e){return e[0].toUpperCase()+e.slice(1)},_={methodDefault:"credit",methods:[{name:"Credit",value:"credit"},{name:"Bank",value:"bank"},{name:"Cash",value:"cash"}],tagOptions:[{name:"blue",value:"primary"},{name:"grey",value:"secondary"},{name:"green",value:"success"},{name:"red",value:"danger"},{name:"yellow",value:"warning"},{name:"teal",value:"info"},{name:"black",value:"dark"}],newEnvelope:{id:null,name:"",account:"",desc:"",tag:{name:"",color:"primary"},defaultSource:"",values:{goal:"",total:"",percentage:""}}},$=function(e){var t=e.name,a=e.type,n=void 0===a?"text":a,c=e.label,r=e.help,s=e.value,l=e.placeholder,u=e.disabled,i=void 0!==u&&u,d=e.className,b=e.onChange,j=e.required,m=e.error,p=Object(D.a)(e,["name","type","label","help","value","placeholder","disabled","className","onChange","required","error"]);return Object(E.jsxs)("div",{className:"mb-3",children:[Object(E.jsx)("label",{forhtml:t,className:"form-label "+(j?"required":""),children:c}),m&&Object(E.jsx)("span",{className:"error",children:"Required"}),Object(E.jsx)("input",Object(o.a)({type:n,name:t,id:t,value:i?"":s&&s,placeholder:l&&l,className:"form-control "+(d||d),"aria-describedby":t+"HelpBlock",onChange:function(e){return b(e.target)},disabled:i},p)),r&&Object(E.jsx)("div",{id:t+"HelpBlock",className:"form-text",children:r})]})},I=function(e){var t=e.name,a=e.label,n=e.help,c=(e.type,e.value),r=e.placeholder,s=e.adjustableClick,l=e.disabled,u=void 0!==l&&l,i=e.onChange,d=e.className,b=Object(D.a)(e,["name","label","help","type","value","placeholder","adjustableClick","disabled","onChange","className"]);return Object(E.jsxs)("div",{className:"mb-3",children:[Object(E.jsx)("label",{forhtml:t,className:"form-label",children:a}),Object(E.jsxs)("div",{className:"flex-wrapper m-space",children:[Object(E.jsx)("input",Object(o.a)({type:"text",name:t,id:t,value:u?"":c&&c,placeholder:r&&r,className:"form-control "+(d||d),"aria-describedby":t+"HelpBlock",onChange:function(e){return i(e.target)},disabled:u},b)),Object(E.jsx)(A,{text:"+",className:"btn btn-primary fg-1",action:function(){return s(!0)}}),Object(E.jsx)(A,{text:"\u2212",className:"btn btn-warning fg-1",action:function(){return s(!1)}})]}),n&&Object(E.jsx)("div",{id:t+"HelpBlock",className:"form-text",children:n})]})},R=function(e){var t=e.name,a=e.label,n=e.help,c=(e.type,e.value),r=e.placeholder,s=e.onChange,l=e.disabled,u=void 0!==l&&l,i=Object(D.a)(e,["name","label","help","type","value","placeholder","onChange","disabled"]);return Object(E.jsxs)("div",{className:"text-edit-wrapper",children:[a&&Object(E.jsx)("label",{forhtml:t,className:"form-label",children:a}),Object(E.jsx)("textarea",Object(o.a)({name:t,id:t,value:u?"":c&&c,placeholder:r&&r,className:"form-control","aria-describedby":t+"HelpBlock",onChange:function(e){return s(e.target)},disabled:u},i)),n&&Object(E.jsx)("div",{id:t+"HelpBlock",className:"form-text",children:n})]})},L=function(e){var t=e.name,a=e.type,n=void 0===a?"text":a,c=e.label,r=e.help,s=e.options,l=e.placeholder,u=e.disabled,i=void 0!==u&&u,d=e.className,b=e.onChange,j=e.defaultValue,m=Object(D.a)(e,["name","type","label","help","options","placeholder","disabled","className","onChange","defaultValue"]),p=function(e){b(e)};return Object(E.jsxs)("div",{className:"mb-3",children:[Object(E.jsx)("label",{forhtml:t,className:"form-label",children:c}),Object(E.jsx)("select",Object(o.a)(Object(o.a)({type:n,name:t,id:t,placeholder:l&&l,className:"form-select "+(d||d),"aria-describedby":t+"HelpBlock",onChange:function(e){return p(e.target)},defaultValue:j,disabled:i},m),{},{children:s&&Object.values(s).map((function(e){return e.override?e.value:Object(E.jsx)("option",{value:e.value,children:e.name},e.value)}))})),r&&Object(E.jsx)("div",{id:t+"HelpBlock",className:"form-text",children:r})]})},J=function(e){var t=e.name,a=e.type,c=void 0===a?"text":a,r=e.label,s=e.help,l=e.options,u=e.placeholder,i=e.disabled,d=void 0!==i&&i,j=e.className,m=e.onChange,p=e.defaultValue,h=Object(D.a)(e,["name","type","label","help","options","placeholder","disabled","className","onChange","defaultValue"]),v=Object(n.useState)(p),f=Object(b.a)(v,2),O=f[0],x=f[1],g=function(e){x(e.value),m(e)};return Object(E.jsxs)("div",{className:"mb-3",children:[Object(E.jsx)("label",{forhtml:t,className:"form-label",children:r}),Object(E.jsx)("select",Object(o.a)(Object(o.a)({type:c,name:t,id:t,placeholder:u&&u,className:"form-select color-select "+(O?"bg-"+O:"")+" "+(j||j),"aria-describedby":t+"HelpBlock",onChange:function(e){return g(e.target)},defaultValue:p,disabled:d},h),{},{children:l&&Object.values(l).map((function(e){return Object(E.jsx)("option",{value:e.value,children:e.name},e.value)}))})),s&&Object(E.jsx)("div",{id:t+"HelpBlock",className:"form-text",children:s})]})},U=function(e){var t=e.props;return Object(E.jsxs)("table",{className:"table table-striped table-hover",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{scope:"col",children:"Date"}),Object(E.jsx)("th",{scope:"col",children:"Amount"}),Object(E.jsx)("th",{scope:"col",children:"Method"}),Object(E.jsx)("th",{scope:"col",children:"Source"})]})}),Object(E.jsx)("tbody",{children:t&&function(e){return Object.values(e).map((function(e,t){return Object(E.jsxs)("tr",{className:Number(e.amount)>=0?"table-success":"table-light",children:[Object(E.jsx)("td",{children:e.date}),Object(E.jsxs)("td",{children:["$",e.amount]}),Object(E.jsx)("td",{children:e.method}),Object(E.jsx)("td",{children:e.source})]},t)}))}(t)})]})},G=function(e){var t=e.id,a=Object(n.useRef)(null),c=Object(n.useState)({}),r=Object(b.a)(c,2),s=r[0],l=r[1],u=Object(n.useState)({}),j=Object(b.a)(u,2),m=j[0],p=j[1],h=Object(n.useState)(_.tagOptions),v=Object(b.a)(h,2),f=v[0],O=(v[1],Object(n.useState)(!0)),g=Object(b.a)(O,2),y=g[0],k=g[1],C=Object(n.useState)(!1),D=Object(b.a)(C,2),H=D[0],M=D[1],P=Object(n.useState)(!1),G=Object(b.a)(P,2),K=G[0],W=G[1],z=Object(n.useState)(""),Y=Object(b.a)(z,2),Q=Y[0],X=Y[1],Z=Object(n.useState)(""),ee=Object(b.a)(Z,2),te=ee[0],ae=ee[1],ne=Object(n.useState)("Credit"),ce=Object(b.a)(ne,2);ce[0],ce[1];Object(n.useEffect)((function(){t&&re(t)}),[t]);var re=function(){var e=Object(d.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t);case 2:a=e.sent,n=a.data,console.log(n),l(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;M(!1),W(!1),X(""),ae(""),null!==e&&(e?M(!0):W(!0),setTimeout((function(){return oe()}),100))},le=function(e,t){"+"===t&&(e=q(e,Q))&&X(e),"-"===t&&(e=q(e,te))&&ae(e)},oe=function(){window.scrollTo({top:a.current.offsetTop,behavior:"smooth"})},ue=function(e){var t=s;switch(e.name){case"desc":t.desc=e.value;break;case"source":t.source=V(e.value);break;case"method":t.method=V(e.value);break;case"goal":t.values.goal=e.value;break;case"total":t.values.total=e.value;break;case"tag":t.tag.name=e.value;break;case"tag-color":t.tag.color=e.value;break;default:return}l(Object(o.a)(Object(o.a)({},s),t))},ie=function(e,t){var a=new Date;a=a.getMonth()+1+"/"+a.getDate()+"/"+a.getFullYear(),e.history&&e.history.unshift({date:a,amount:t,total:t,source:!S.a.isEmpty(te)&&e.source,method:!S.a.isEmpty(te)&&e.method}),l(Object(o.a)(Object(o.a)({},s),e)),de(e,t)},de=function(){var e=Object(d.a)(i.a.mark((function e(t,a){var n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={id:t.id,amount:a,total:t.values.total,source:!S.a.isEmpty(te)&&t.source,method:!S.a.isEmpty(te)&&t.method},console.log(n),e.next=4,N(n);case 4:c=e.sent,console.log(c);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),be=function(){var e=Object(d.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(t=s).history,e.next=4,w(t);case 4:a=e.sent,console.log(a),k(!y);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(F,{}),Object(E.jsx)("section",{children:!S.a.isEmpty(s)&&Object(E.jsxs)("div",{className:"container envelope",children:[Object(E.jsx)("h1",{children:s.name}),Object(E.jsx)("hr",{}),Object(E.jsxs)("div",{className:"flex-wrapper start mt-5",children:[Object(E.jsx)("div",{className:"mr-auto fg-1",children:Object(E.jsx)(B,{props:s.values,showPercent:!0})}),Object(E.jsxs)("form",{className:"fg-3 mb-5",children:[Object(E.jsxs)("div",{className:"flex-wrapper",children:[y?Object(E.jsx)("h4",{className:"tag mb-4",children:Object(E.jsx)("span",{className:"badge bg-"+s.tag.color,children:s.tag.name})}):Object(E.jsxs)("div",{className:"flex m-space",children:[Object(E.jsx)($,{value:s.tag.name,onChange:function(e){return ue(e)},className:"mw-150",label:"Tag name",name:"tag"}),Object(E.jsx)(J,{defaultValue:s.tag.color,options:f,onChange:function(e){return ue(e)},className:"mw-150 mt-2",name:"tag-color"})]}),y?Object(E.jsxs)(A,{className:"btn-edit btn-light",action:function(){return k(!y),void p(S.a.cloneDeep(s))},children:["Edit envelope ",Object(E.jsx)("span",{className:"edit"})]}):Object(E.jsxs)("div",{className:"flex m-space edit-mobile-wrapper",children:[Object(E.jsx)(A,{className:"btn-edit btn-success",action:function(){return be()},children:"Save envelope"}),Object(E.jsx)(A,{className:"btn-close mt-2",title:"Cancel",action:function(){return l(Object(o.a)({},m)),void k(!y)}})]})]}),Object(E.jsx)("h5",{children:"Description"}),Object(E.jsx)(R,{disabled:y,value:s.desc&&s.desc,placeholder:s.desc&&s.desc,name:"desc",onChange:function(e){return ue(e)}}),Object(E.jsx)("h5",{children:"Amounts"}),Object(E.jsxs)("div",{className:"flex-wrapper m-space",children:[Object(E.jsx)($,{disabled:y,value:s.values.goal?s.values.goal:0,placeholder:s.values.goal&&"$"+s.values.goal,onChange:function(e){return ue(e)},className:"mw-150",label:"Goal",name:"goal",help:"Desired goal to reach."}),Object(E.jsxs)("div",{className:"flex column",children:[Object(E.jsx)(I,{disabled:y,value:s.values&&s.values.total,placeholder:s.values&&"$"+s.values.total,adjustableClick:function(e){return se(e)},onChange:function(e){return ue(e)},className:"mw-150",label:"Total",name:"total",help:"Current amount in envelope."}),Object(E.jsxs)("div",{ref:a,className:"input-button-wrapper",children:[H&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)($,{help:"Enter amount to add.",className:"mw-150",name:"add-total",value:Q,onChange:function(e){return le(e.value,"+")}}),Object(E.jsx)(A,{text:"Add",className:"btn-success",action:function(){return function(){var e=s;e.values.total=(Number(e.values.total)+Number(Q)).toFixed(2),e.values.goal&&(e.values.percentage=Math.round(e.values.total/e.values.goal*100)),ie(e,Q)}()}}),Object(E.jsx)(A,{className:"btn-close",action:function(){return se()}})]}),K&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)($,{type:"number",help:"Enter amount to subtract.",className:"mw-150",name:"sub-total",value:te,onChange:function(e){return le(e.value,"-")}}),Object(E.jsx)(A,{text:"Subtract",className:"btn-warning",action:function(){return function(){var e=s;e.values.total=(Number(e.values.total)-Number(te)).toFixed(2),e.values.goal&&(e.values.percentage=Math.round(e.values.total/e.values.goal*100)),ie(e,"-"+te)}()}}),Object(E.jsx)(A,{className:"btn-close",action:function(){return se()}})]})]})]}),K&&Object(E.jsxs)("div",{children:[Object(E.jsx)(L,{label:"Method",defaultValue:s.defaultMethod&&s.defaultMethod,onChange:function(e){return ue(e)},className:"mw-150",name:"method",options:_.methods}),Object(E.jsx)($,{label:"Source",help:"Enter source of transaction.",className:"mw-150",name:"source",value:s.source&&s.source,onChange:function(e){return ue(e)}})]})]})]})]}),!S.a.isEmpty(s.history)&&Object(E.jsxs)("div",{children:[Object(E.jsx)("h5",{children:"Transactions"}),Object(E.jsx)(U,{props:s.history})]})]})}),Object(E.jsx)(T,{})]})},K=function(){var e=Object(n.useState)(_.newEnvelope),t=Object(b.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(null),s=Object(b.a)(r,2),u=s[0],j=s[1],m=Object(n.useState)(!1),p=Object(b.a)(m,2),h=p[0],v=p[1],f=Object(n.useState)(_.tagOptions),O=Object(b.a)(f,2),x=O[0],N=(O[1],Object(n.useState)({})),w=Object(b.a)(N,2),k=w[0],C=w[1],D=Object(n.useState)(""),H=Object(b.a)(D,2),M=H[0],P=H[1],V=Object(n.useState)(""),I=Object(b.a)(V,2),U=I[0],G=I[1],K=Object(n.useState)(0),W=Object(b.a)(K,2),z=W[0],Y=W[1];Object(n.useEffect)((function(){return Q()}),[]);var Q=function(){var e=Object(d.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:t=e.sent,(a=t.data).push({name:"Create new",value:"showNewTag"}),j(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(e,t){"total"===t&&((e=q(e,M))&&P(e),U>0&&Y(e/U*100)),"goal"===t&&((e=q(e,U))&&G(e),e>0&&Y(M/e*100))},Z=function(e){var t=a;switch(e.name){case"name":t.name=e.value;break;case"account":t.account=e.value;break;case"desc":t.desc=e.value;break;case"source":t.defaultMethod=e.value;break;case"tag":t.tag.name=e.value;break;case"current-tags":if("showNewTag"===e.value)v(!0),t.tag.color=_.tagOptions[0].value;else{v(!1),t.tag.name=e.value;var n=u.find((function(t){return t.value===e.value}));t.tag.color=n.color}break;case"tag-color":t.tag.color=e.value;break;default:return}c(Object(o.a)(Object(o.a)({},a),t))},ee=function(){var e=Object(d.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C({}),(t=a).values.goal=U,t.values.total=M,""!==t.name){e.next=7;break}return C(Object(o.a)(Object(o.a)({},k),{},{name:!0})),e.abrupt("return");case 7:return console.log(t),e.next=10,y(t);case 10:n=e.sent,console.log(n),c(_.newEnvelope);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(F,{}),Object(E.jsx)("section",{children:!S.a.isEmpty(a)&&Object(E.jsxs)("div",{className:"container envelope",children:[Object(E.jsxs)("div",{className:"flex-wrapper",children:[Object(E.jsx)($,{required:!0,error:k.name,value:a.name,placeholder:"Groceries",onChange:function(e){return Z(e)},className:"mw-150",label:"Envelope name",name:"name"}),Object(E.jsxs)("div",{className:"flex m-space edit-mobile-wrapper mt-4",children:[Object(E.jsx)(A,{className:"btn-edit btn-success",action:function(){return ee()},children:"Add new envelope"}),Object(E.jsx)(l.a,{className:"btn btn-close mt-2",title:"Cancel",to:"/"})]})]}),Object(E.jsx)("hr",{}),Object(E.jsxs)("div",{className:"flex-wrapper start no-wrap mt-5",children:[Object(E.jsx)("div",{className:"mr-auto fg-1",children:Object(E.jsx)(B,{props:{goal:U,total:M,percentage:z},showPercent:!0})}),Object(E.jsxs)("form",{className:"fg-3 mb-5",children:[Object(E.jsxs)("div",{className:"flex m-space",children:[Object(E.jsx)(L,{label:"Tags",onChange:function(e){return Z(e)},name:"current-tags",options:u&&u}),h&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)($,{value:a.tag.name,placeholder:"Food",onChange:function(e){return Z(e)},className:"mw-150",label:"New tag name",name:"tag"}),Object(E.jsx)(J,{defaultValue:a.tag.color,options:x,onChange:function(e){return Z(e)},className:"mw-150 mt-2",name:"tag-color"})]})]}),Object(E.jsx)("h5",{children:"Description"}),Object(E.jsx)(R,{value:a.desc&&a.desc,placeholder:"Add a description of this envelope",name:"desc",onChange:function(e){return Z(e)}}),Object(E.jsx)("h5",{children:"Amounts"}),Object(E.jsxs)("div",{className:"flex-wrapper",children:[Object(E.jsx)($,{value:U,placeholder:"$100.00",onChange:function(e){return X(e.value,"goal")},label:"Goal",name:"goal",help:"Desired goal to reach."}),Object(E.jsx)($,{value:M,placeholder:"$20.00",onChange:function(e){return X(e.value,"total")},label:"Total",name:"total",help:"Current amount in envelope."}),Object(E.jsx)(L,{label:"Default method",defaultValue:a.defaultMethod&&a.defaultMethod,onChange:function(e){return Z(e)},name:"source",options:_.methods,help:"Set default source for withdrawals."}),Object(E.jsx)($,{value:_.account,placeholder:"Savings / Cash",onChange:function(e){return Z(e)},label:"Account name",name:"account",help:"Primary location of funds."})]})]})]})]})}),Object(E.jsx)(T,{})]})},W=function(){return Object(E.jsxs)(l.b,{children:[Object(E.jsx)(M,{path:"/"}),Object(E.jsx)(G,{path:"/envelope/:id"}),Object(E.jsx)(K,{path:"/envelope/new/"}),Object(E.jsx)(P,{path:"/login"})]})},z=(a(55),a(56),function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,58)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))});s.a.render(Object(E.jsx)(c.a.StrictMode,{children:Object(E.jsx)(W,{})}),document.getElementById("root")),z()}},[[57,1,2]]]);
//# sourceMappingURL=main.26a034da.chunk.js.map