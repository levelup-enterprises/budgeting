{"version":3,"sources":["services/session.js","services/http.js","components/common/nav.jsx","components/common/footer.jsx","components/common/circleGraph.jsx","components/common/Button.jsx","components/common/card.jsx","components/Home/index.jsx","components/common/form-input.jsx","components/Login/index.jsx","components/Logout/index.jsx","services/utilities.js","config.js","components/common/form-input-adjustable.jsx","components/common/form-textarea.jsx","components/common/form-select.jsx","components/common/form-select-color.jsx","components/common/table.jsx","components/Envelopes/index.jsx","components/Envelopes/new.jsx","App.js","reportWebVitals.js","index.js"],"names":["set","name","session","JSON","stringify","sessionStorage","setItem","error","console","log","get","getItem","parse","remove","removeItem","clear","axios","defaults","baseURL","process","headers","common","interceptors","response","use","status","Promise","reject","data","login","creds","a","getToken","request","path","json","then","token","post","Authorization","catch","e","raw","res","getAllEnvelopes","getEnvelope","id","getTags","editEnvelopeTotal","values","editEnvelope","addEnvelope","obj","Nav","params","useState","expand","toggleExpand","className","to","onClick","Footer","CircleGraph","props","showPercent","difference","percentage","goal","setColor","style","backgroundImage","setGradient","width","total","Math","round","Button","text","action","children","rest","preventDefault","handleOnClick","Card","tagClick","tag","color","desc","Home","envelopes","setEnvelopes","cards","setCards","filteredSummary","setFilteredSummary","updateFilters","useCallback","renderEnvelopes","useEffect","filteredTotal","object","summary","Object","forEach","v","map","filter","filterTags","title","_","isEmpty","Input","type","label","help","value","placeholder","disabled","onChange","required","forhtml","aria-describedby","target","Login","errors","setErrors","email","setEmail","password","setPassword","loginFn","window","location","href","Logout","replace","formatNumber","num","previous","isNaN","length","parseFloat","toFixed","Number","cpFirst","string","toUpperCase","slice","config","methodDefault","methods","tagOptions","newEnvelope","account","defaultSource","AdjustableInput","adjustableClick","Textarea","Select","options","defaultValue","handleOnChange","override","SelectColor","Table","scope","i","amount","date","method","source","renderProps","Envelopes","ScrollRef","useRef","envelope","setEnvelope","envelopeCopy","setEnvelopeCopy","tagColors","editable","toggleEditable","showPosAdjuster","togglePosAdjuster","showNegAdjuster","toggleNegAdjuster","addTotal","setAddTotal","subTotal","setSubTotal","returnEnvelope","adjuster","setTimeout","scrollToRef","formatValues","scrollTo","top","current","offsetTop","behavior","updateEnvelope","update","updateHistory","Date","getMonth","getDate","getFullYear","history","unshift","updateTotal","edits","save","cloneDeep","ref","add2total","subFromTotal","defaultMethod","NewEnvelope","tags","setTags","showNewTag","toggleShowNewTag","addGoal","setAddGoal","setPercentage","updateTags","push","find","form","App","default","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fc04550b.chunk.js","sourcesContent":["/* eslint-disable import/no-anonymous-default-export */\n\n/**--------------------------------------\n ** Set session\n * --------------------------------------\n * @param {string} name\n * @param {mixed} session\n * @returns {object}\n */\nexport function set(name, session) {\n  try {\n    if (typeof session === \"object\") {\n      session = JSON.stringify(session);\n    }\n    return sessionStorage.setItem(name, session);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n/**--------------------------------------\n ** Get session values\n * --------------------------------------\n * @param {string} name\n * @returns {object}\n */\nexport function get(name) {\n  try {\n    let session = sessionStorage.getItem(name) || null;\n\n    if (session !== null) {\n      try {\n        return JSON.parse(session);\n      } catch (error) {\n        return session;\n      }\n    }\n    return session;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n/**--------------------------------------\n ** Remove session\n * --------------------------------------\n * @param {string} name\n * @returns {object}\n */\nexport function remove(name) {\n  try {\n    return sessionStorage.removeItem(name) || false;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n/**--------------------------------------\n ** Remove all sessions\n * --------------------------------------\n * @param {string} name\n * @returns {object}\n */\nexport function clear() {\n  try {\n    return sessionStorage.clear() || false;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport default {\n  set,\n  get,\n  remove,\n  clear,\n};\n","import axios from \"axios\";\nimport session from \"./session\";\n\nconst testLogin = {\n  request: \"user/login\",\n  data: { email: \"tommy@levelup.enterprises\", password: \"password\" },\n};\n\n// Root url\naxios.defaults.baseURL = process.env.REACT_APP_API;\naxios.defaults.headers.common = {\n  \"Content-type\": \"application/json; charset=UTF-8\",\n};\n\n//! -----------------------------------------\n//# Handle 400 & 500 errors\naxios.interceptors.response.use(null, (error) => {\n  console.log(error);\n  if (error.response.status >= 400) {\n    if (error.response.status === 503) {\n      session.remove(\"token\");\n    }\n  }\n  return Promise.reject({ data: error });\n});\n//! -----------------------------------------\n\n//# -----------------------------------------\n//# Login\nexport const login = async (creds) => {\n  try {\n    return await getToken(creds);\n  } catch (error) {\n    console.log(error);\n  }\n};\n//# -----------------------------------------\n\n//? -----------------------------------------\n//# Get & set Token\nexport const request = async (path, json) => {\n  try {\n    return await getToken()\n      .then((token) =>\n        axios.post(path, json, {\n          headers: { Authorization: `Bearer ${token}` },\n        })\n      )\n      .catch((e) => {\n        console.log(e);\n        if (e.data.response.status === 503) {\n          session.remove(\"token\");\n        }\n      });\n  } catch (error) {\n    console.log(error);\n  }\n};\n//? -----------------------------------------\n\n//* -----------------------------------------\n//# Get & set Token\nexport const getToken = async (creds = null) => {\n  try {\n    let token = session.get(\"token\") || null;\n    if (!token && creds) {\n      const res = await axios.post(\"auth/\", raw(creds));\n      console.log(res);\n      if (res.status === 200) {\n        token = res.data;\n        session.set(\"token\", token);\n      }\n    }\n    return token;\n  } catch (error) {\n    console.log(error);\n  }\n};\n//* -----------------------------------------\n\n//* -----------------------------------------\n//# Get all envelopes\nexport const getAllEnvelopes = async () => {\n  try {\n    const res = await request(\n      \"get/\",\n      raw({\n        request: \"envelopes/all\",\n      })\n    );\n    return res.status === 200 ? res.data : [{}];\n  } catch (error) {\n    console.log(error);\n  }\n};\n//* -----------------------------------------\n\n//* -----------------------------------------\n//# Get envelope by id\nexport const getEnvelope = async (id) => {\n  try {\n    const res = await request(\n      \"get/\",\n      raw({\n        request: \"envelopes/id\",\n        id: id,\n      })\n    );\n    return res.status === 200 ? res.data : \"Error!\";\n  } catch (error) {\n    console.log(error);\n  }\n};\n//* -----------------------------------------\n\n//* -----------------------------------------\n//# Get all tags\nexport const getTags = async () => {\n  try {\n    const res = await request(\n      \"get/\",\n      raw({\n        request: \"envelopes/tags\",\n      })\n    );\n    return res.status === 200 ? res.data : [{}];\n  } catch (error) {\n    console.log(error);\n  }\n};\n//* -----------------------------------------\n\n//* -----------------------------------------\n//# Get all envelopes\nexport const createEnvelopes = async (values) => {\n  try {\n    const res = await request(\n      \"post/\",\n      raw({\n        request: \"envelopes/add\",\n        data: values,\n      })\n    );\n    console.log(res);\n  } catch (error) {\n    console.log(error);\n  }\n};\n//* -----------------------------------------\n\n//? -----------------------------------------\n//# Update total\nexport const editEnvelopeTotal = async (values) => {\n  try {\n    const res = await request(\n      \"post/\",\n      raw({\n        request: \"envelopes/edit/total\",\n        data: values,\n      })\n    );\n    return res.status === 200 ? res.data : \"Error!\";\n  } catch (error) {\n    console.log(error);\n  }\n};\n//? -----------------------------------------\n\n//? -----------------------------------------\n//# Edit Envelope\nexport const editEnvelope = async (values) => {\n  try {\n    const res = await request(\n      \"post/\",\n      raw({\n        request: \"envelopes/edit\",\n        data: values,\n      })\n    );\n    return res.status === 200 ? res.data : \"Error!\";\n  } catch (error) {\n    console.log(error);\n  }\n};\n//? -----------------------------------------\n\n//? -----------------------------------------\n//# Add Envelope\nexport const addEnvelope = async (values) => {\n  try {\n    const res = await request(\n      \"post/\",\n      raw({\n        request: \"envelopes/add\",\n        data: values,\n      })\n    );\n    return res.status === 200 ? res.data : \"Error!\";\n  } catch (error) {\n    console.log(error);\n  }\n};\n//? -----------------------------------------\n\nconst raw = (obj) => {\n  return JSON.stringify(obj);\n};\n","import React, { useState } from \"react\";\nimport { Link } from \"@reach/router\";\n\nconst Nav = (params) => {\n  const [expand, toggleExpand] = useState(true);\n\n  return (\n    <nav className=\"navbar navbar-expand-sm navbar-light bg-light\">\n      <div className=\"container-fluid\">\n        <Link to=\"/\" className=\"navbar-brand\">\n          Budgeting\n        </Link>\n        <button\n          className=\"navbar-toggler\"\n          onClick={() => toggleExpand(!expand)}\n        >\n          <span className=\"navbar-toggler-icon\"></span>\n        </button>\n        <div\n          className={\n            \"navbar-collapse justify-content-between \" +\n            (expand ? \"collapse\" : \"collapsed\")\n          }\n        >\n          <ul className=\"navbar-nav\">\n            <li className=\"nav-item\">\n              <Link to=\"/\" className=\"nav-link active\">\n                Home\n              </Link>\n            </li>\n          </ul>\n          <ul className=\"navbar-nav\">\n            <li className=\"nav-item\">\n              <Link to=\"/logout\" className=\"nav-link\">\n                Logout\n              </Link>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </nav>\n  );\n};\nexport default Nav;\n","import React from \"react\";\nimport { Link } from \"@reach/router\";\n\nconst Footer = (params) => {\n  return (\n    <footer className=\"footer\">\n      <div className=\"container-fluid\">\n        <Link to=\"/\" className=\"navbar-brand\">\n          Budgeting\n        </Link>\n      </div>\n    </footer>\n  );\n};\nexport default Footer;\n","import React from \"react\";\n\nconst CircleGraph = ({ props, showPercent }) => {\n  var difference = props.percentage ? props.percentage : \"\";\n\n  const setColor = () => {\n    if (props.goal) {\n      if (difference >= 100) return \"c100\";\n      if (difference >= 80) return \"c80\";\n      if (difference >= 60) return \"c60\";\n      if (difference >= 40) return \"c40\";\n      if (difference >= 20) return \"c20\";\n      if (difference >= 0) return \"c0\";\n    }\n  };\n  const setGradient = () => {\n    if (props.goal) {\n      // let difference = (props.amount / props.goal) * 100;\n      difference = 100 - difference;\n      return {\n        backgroundImage: `conic-gradient(#eae9e9 ${difference}%, transparent 0)`,\n      };\n    }\n  };\n\n  return (\n    <div className=\"circle-graph\">\n      <div className={\"circle \" + setColor()} style={setGradient()}>\n        <div className=\"mobile-line\" style={{ width: difference + \"%\" }}></div>\n        {props.goal ? (\n          <div className=\"amount\">\n            <h3>${props.total}</h3>\n            <small>\n              of <b>${props.goal}</b> reached\n            </small>\n          </div>\n        ) : (\n          <h3 className=\"amount\">${props.total}</h3>\n        )}\n      </div>\n      {showPercent && props.percentage > 0 && (\n        <div className=\"text-center mt-3\">\n          <h4>{Math.round(props.percentage)}% complete</h4>\n        </div>\n      )}\n    </div>\n  );\n};\nexport default CircleGraph;\n","import React from \"react\";\n\nconst Button = ({ text, className, action, children, ...rest }) => {\n  const handleOnClick = (e) => {\n    e.preventDefault();\n    action(e);\n  };\n\n  return (\n    <button\n      {...rest}\n      className={\"btn \" + (className ? className : className)}\n      onClick={(e) => handleOnClick(e)}\n    >\n      {text}\n      {children}\n    </button>\n  );\n};\nexport default Button;\n","import { Link } from \"@reach/router\";\nimport React from \"react\";\nimport CircleGraph from \"./circleGraph\";\nimport Button from \"./Button\";\n\nconst Card = ({ props, tagClick }) => {\n  return (\n    <div className=\"card\">\n      <Button className=\"tag\" action={() => tagClick(props.tag.name)}>\n        <span className={\"badge bg-\" + props.tag.color}>{props.tag.name}</span>\n      </Button>\n      <CircleGraph props={props.values} />\n      <div className=\"card-body\">\n        <h5 className=\"card-title\">{props.name}</h5>\n        <p className=\"card-text\">{props.desc}</p>\n        <Link to={\"/envelope/\" + props.id} className=\"btn btn-light float-end\">\n          Manage\n        </Link>\n      </div>\n    </div>\n  );\n};\nexport default Card;\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport { getAllEnvelopes } from \"../../services/http\";\nimport { Link } from \"@reach/router\";\nimport session from \"../../services/session\";\nimport _ from \"lodash\";\nimport Nav from \"../common/nav\";\nimport Footer from \"../common/footer\";\nimport Card from \"../common/card\";\nimport Button from \"../common/Button\";\n\nconst Home = (params) => {\n  const [envelopes, setEnvelopes] = useState([{}]);\n  const [filtered, setFiltered] = useState(null);\n  const [cards, setCards] = useState(null);\n  const [filteredSummary, setFilteredSummary] = useState(null);\n\n  const updateFilters = useCallback(async (values = null) => {\n    if (!values) {\n      const { data } = await getAllEnvelopes();\n      setEnvelopes(data);\n      session.set(\"envelopes\", data);\n      renderEnvelopes(data);\n    } else renderEnvelopes(values);\n  }, []);\n\n  useEffect(() => {\n    updateFilters();\n  }, [updateFilters]);\n\n  /**\n   ** Filter envelopes based on tag name\n   * @param {string} tag name of tag\n   */\n  const filterTags = (tag) => {\n    const envelopes = session.get(\"envelopes\");\n    const filter = Object.values(envelopes).filter(\n      (values) => values.tag.name === tag\n    );\n    updateFilters(filter);\n    filteredTotal(filter);\n  };\n\n  const filteredTotal = (object) => {\n    let summary = {};\n    Object.values(object).forEach((v) => {\n      summary.tag = v.tag;\n      summary.total = summary.total\n        ? summary.total + v.values.total\n        : v.values.total;\n    });\n    setFilteredSummary({ ...summary });\n  };\n\n  const clearFiltered = () => {\n    updateFilters(envelopes);\n    setFilteredSummary(null);\n  };\n\n  /**\n   ** Render cards with provided list\n   * @param {object} object envelope object\n   */\n  const renderEnvelopes = (object) => {\n    setCards(\n      Object.values(object).map((values) => (\n        <Card props={values} key={values.id} tagClick={(e) => filterTags(e)} />\n      ))\n    );\n  };\n\n  return (\n    <>\n      <Nav />\n      <section>\n        <div className=\"container\">\n          <div className=\"flex-wrapper\">\n            <h1>Envelopes</h1>\n            <Link\n              className=\"btn btn-light btn-add\"\n              title=\"Add envelope\"\n              to=\"/envelope/new/\"\n            >\n              &#x2b;\n            </Link>\n          </div>\n          <hr />\n          {/* Sorted summary */}\n          {filteredSummary && (\n            <div className=\"flex-wrapper m-space mb-3\">\n              <div className={\"info-tag badge bg-\" + filteredSummary.tag.color}>\n                {filteredSummary.tag.name}\n              </div>\n              <div className=\"info-tag badge total\">\n                Total ${filteredSummary.total}\n              </div>\n              <Button\n                className=\"btn-close info-tag badge\"\n                action={() => clearFiltered()}\n              />\n            </div>\n          )}\n          {/* Main wrapper */}\n          <div className=\"flex-wrapper\">{!_.isEmpty(cards) && cards}</div>\n        </div>\n      </section>\n      <Footer />\n    </>\n  );\n};\n\nexport default Home;\n","import React from \"react\";\n\nconst Input = ({\n  name,\n  type = \"text\",\n  label,\n  help,\n  value,\n  placeholder,\n  disabled = false,\n  className,\n  onChange,\n  required,\n  error,\n  ...rest\n}) => {\n  // const handleOnChange = (e) => {\n  //   console.log(e);\n  // };\n\n  return (\n    <div className=\"mb-3\">\n      <label\n        forhtml={name}\n        className={\"form-label \" + (required ? \"required\" : \"\")}\n      >\n        {label}\n      </label>\n      {error && <span className=\"error\">Required</span>}\n      <input\n        type={type}\n        name={name}\n        id={name}\n        value={!disabled ? value && value : \"\"}\n        placeholder={placeholder && placeholder}\n        className={\"form-control \" + (className ? className : className)}\n        aria-describedby={name + \"HelpBlock\"}\n        onChange={(e) => onChange(e.target)}\n        disabled={disabled}\n        {...rest}\n      />\n      {help && (\n        <div id={name + \"HelpBlock\"} className=\"form-text\">\n          {help}\n        </div>\n      )}\n    </div>\n  );\n};\nexport default Input;\n","import React, { useState } from \"react\";\nimport { login } from \"../../services/http\";\nimport Button from \"../common/Button\";\nimport Input from \"../common/form-input\";\n\nconst Login = () => {\n  const [errors, setErrors] = useState({});\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const loginFn = async () => {\n    setErrors({});\n\n    //! Required\n    if (email === \"\") {\n      setErrors({ ...errors, email: true });\n      return;\n    }\n    //! Required\n    if (password === \"\") {\n      setErrors({ ...errors, password: true });\n      return;\n    }\n\n    const data = await login({\n      request: \"user/login\",\n      data: { email: email, password: password },\n    });\n    data && (window.location.href = \"/\");\n    console.log(data);\n  };\n\n  return (\n    <>\n      <section>\n        <div className=\"container mt-5\">\n          <h1>Login</h1>\n          <form className=\"fg-3 mb-5\">\n            <Input\n              type=\"email\"\n              required={true}\n              error={errors.email}\n              value={email}\n              placeholder=\"john.doe@email.com\"\n              onChange={(e) => setEmail(e.value)}\n              label=\"Username\"\n              name=\"email\"\n            />\n            <Input\n              type=\"password\"\n              required={true}\n              error={errors.password}\n              value={password}\n              onChange={(e) => setPassword(e.value)}\n              label=\"Password\"\n              name=\"password\"\n            />\n            <Button className=\"btn-light\" action={() => loginFn()}>\n              Login\n            </Button>\n          </form>\n        </div>\n      </section>\n    </>\n  );\n};\n\nexport default Login;\n","import session from \"../../services/session\";\n\nconst Logout = () => {\n  session.clear();\n  window.location.replace(\"/login\");\n};\n\nexport default Logout;\n","/**\n * Take a number or string and convert to a value with\n *  2 decimal places.\n * @param {string} num value to format\n * @param {string} previous value before update\n * @returns\n */\nexport const formatNumber = (num, previous) => {\n  if (!isNaN(num % 1)) {\n    if (num.length > previous.length) {\n      if (num.length < 2) {\n        num = parseFloat(num / 100).toFixed(2);\n      } else num = (Number(num) * 10).toFixed(2);\n    } else {\n      num = (Number(num) / 10).toFixed(2);\n    }\n    return num;\n  }\n};\n\n/**\n * Set string to start with uppercase\n * @param {string} string\n * @returns {string}\n */\nexport const cpFirst = (string) => {\n  return string[0].toUpperCase() + string.slice(1);\n};\n","const config = {\n  methodDefault: \"credit\",\n  methods: [\n    { name: \"Credit\", value: \"credit\" },\n    { name: \"Bank\", value: \"bank\" },\n    { name: \"Cash\", value: \"cash\" },\n  ],\n  tagOptions: [\n    { name: \"blue\", value: \"primary\" },\n    { name: \"grey\", value: \"secondary\" },\n    { name: \"green\", value: \"success\" },\n    { name: \"red\", value: \"danger\" },\n    { name: \"yellow\", value: \"warning\" },\n    { name: \"teal\", value: \"info\" },\n    { name: \"black\", value: \"dark\" },\n  ],\n  newEnvelope: {\n    id: null,\n    name: \"\",\n    account: \"\",\n    desc: \"\",\n    tag: { name: \"\", color: \"primary\" },\n    defaultSource: \"\",\n    values: {\n      goal: \"\",\n      total: \"\",\n      percentage: \"\",\n    },\n  },\n};\nexport default config;\n","import React from \"react\";\nimport Button from \"./Button\";\n\nconst AdjustableInput = ({\n  name,\n  label,\n  help,\n  type,\n  value,\n  placeholder,\n  adjustableClick,\n  disabled = false,\n  onChange,\n  className,\n  ...rest\n}) => {\n  return (\n    <div className=\"mb-3\">\n      <label forhtml={name} className=\"form-label\">\n        {label}\n      </label>\n      <div className=\"flex-wrapper m-space\">\n        <input\n          type=\"text\"\n          name={name}\n          id={name}\n          value={!disabled ? value && value : \"\"}\n          placeholder={placeholder && placeholder}\n          className={\"form-control \" + (className ? className : className)}\n          aria-describedby={name + \"HelpBlock\"}\n          onChange={(e) => onChange(e.target)}\n          disabled={disabled}\n          {...rest}\n        />\n        <Button\n          text=\"&#x2b;\"\n          className=\"btn btn-primary fg-1\"\n          action={() => adjustableClick(true)}\n        />\n        <Button\n          text=\"&#x2212;\"\n          className=\"btn btn-warning fg-1\"\n          action={() => adjustableClick(false)}\n        />\n      </div>\n      {help && (\n        <div id={name + \"HelpBlock\"} className=\"form-text\">\n          {help}\n        </div>\n      )}\n    </div>\n  );\n};\nexport default AdjustableInput;\n","import React from \"react\";\n\nconst Textarea = ({\n  name,\n  label,\n  help,\n  type,\n  value,\n  placeholder,\n  onChange,\n  disabled = false,\n  ...rest\n}) => {\n  return (\n    <div className=\"text-edit-wrapper\">\n      {label && (\n        <label forhtml={name} className=\"form-label\">\n          {label}\n        </label>\n      )}\n      <textarea\n        name={name}\n        id={name}\n        value={!disabled ? value && value : \"\"}\n        placeholder={placeholder && placeholder}\n        className=\"form-control\"\n        aria-describedby={name + \"HelpBlock\"}\n        onChange={(e) => onChange(e.target)}\n        disabled={disabled}\n        {...rest}\n      ></textarea>\n      {help && (\n        <div id={name + \"HelpBlock\"} className=\"form-text\">\n          {help}\n        </div>\n      )}\n    </div>\n  );\n};\nexport default Textarea;\n","import React from \"react\";\n\nconst Select = ({\n  name,\n  type = \"text\",\n  label,\n  help,\n  options,\n  placeholder,\n  disabled = false,\n  className,\n  onChange,\n  defaultValue,\n  ...rest\n}) => {\n  const handleOnChange = (e) => {\n    onChange(e);\n  };\n\n  return (\n    <div className=\"mb-3\">\n      <label forhtml={name} className=\"form-label\">\n        {label}\n      </label>\n      <select\n        type={type}\n        name={name}\n        id={name}\n        placeholder={placeholder && placeholder}\n        className={\"form-select \" + (className ? className : className)}\n        aria-describedby={name + \"HelpBlock\"}\n        onChange={(e) => handleOnChange(e.target)}\n        defaultValue={defaultValue}\n        disabled={disabled}\n        {...rest}\n      >\n        {options &&\n          Object.values(options).map((v) =>\n            v.override ? (\n              v.value\n            ) : (\n              <option value={v.value} key={v.value}>\n                {v.name}\n              </option>\n            )\n          )}\n      </select>\n      {help && (\n        <div id={name + \"HelpBlock\"} className=\"form-text\">\n          {help}\n        </div>\n      )}\n    </div>\n  );\n};\nexport default Select;\n","import React, { useState } from \"react\";\n\nconst SelectColor = ({\n  name,\n  type = \"text\",\n  label,\n  help,\n  options,\n  placeholder,\n  disabled = false,\n  className,\n  onChange,\n  defaultValue,\n  ...rest\n}) => {\n  const [color, setColor] = useState(defaultValue);\n\n  const handleOnChange = (e) => {\n    setColor(e.value);\n    onChange(e);\n  };\n\n  return (\n    <div className=\"mb-3\">\n      <label forhtml={name} className=\"form-label\">\n        {label}\n      </label>\n      <select\n        type={type}\n        name={name}\n        id={name}\n        placeholder={placeholder && placeholder}\n        className={\n          \"form-select color-select \" +\n          (color ? \"bg-\" + color : \"\") +\n          \" \" +\n          (className ? className : className)\n        }\n        aria-describedby={name + \"HelpBlock\"}\n        onChange={(e) => handleOnChange(e.target)}\n        defaultValue={defaultValue}\n        disabled={disabled}\n        {...rest}\n      >\n        {options &&\n          Object.values(options).map((v) => (\n            <option value={v.value} key={v.value}>\n              {v.name}\n            </option>\n          ))}\n      </select>\n      {help && (\n        <div id={name + \"HelpBlock\"} className=\"form-text\">\n          {help}\n        </div>\n      )}\n    </div>\n  );\n};\nexport default SelectColor;\n","import React from \"react\";\n\nconst Table = ({ props }) => {\n  const renderProps = (props) => {\n    return Object.values(props).map((v, i) => (\n      <tr\n        className={Number(v.amount) >= 0 ? \"table-success\" : \"table-light\"}\n        key={i}\n      >\n        <td>{v.date}</td>\n        <td>${v.amount}</td>\n        <td>{v.method}</td>\n        <td>{v.source}</td>\n      </tr>\n    ));\n  };\n\n  return (\n    <table className=\"table table-striped table-hover\">\n      <thead>\n        <tr>\n          <th scope=\"col\">Date</th>\n          <th scope=\"col\">Amount</th>\n          <th scope=\"col\">Method</th>\n          <th scope=\"col\">Source</th>\n        </tr>\n      </thead>\n      <tbody>{props && renderProps(props)}</tbody>\n    </table>\n  );\n};\nexport default Table;\n","import React, { useEffect, useState, useRef } from \"react\";\nimport {\n  editEnvelope,\n  editEnvelopeTotal,\n  getEnvelope,\n} from \"../../services/http\";\nimport { cpFirst, formatNumber } from \"../../services/utilities\";\nimport config from \"../../config\";\nimport _ from \"lodash\";\nimport Nav from \"../common/nav\";\nimport Footer from \"../common/footer\";\n\nimport CircleGraph from \"../common/circleGraph\";\nimport Button from \"../common/Button\";\nimport Input from \"../common/form-input\";\nimport AdjustableInput from \"../common/form-input-adjustable\";\nimport Textarea from \"../common/form-textarea\";\nimport Select from \"../common/form-select\";\nimport SelectColor from \"../common/form-select-color\";\nimport Table from \"../common/table\";\nimport session from \"../../services/session\";\n\nconst Envelopes = ({ id }) => {\n  const ScrollRef = useRef(null);\n  const [envelope, setEnvelope] = useState({});\n  const [envelopeCopy, setEnvelopeCopy] = useState({});\n  const [tagColors, setTagColors] = useState(config.tagOptions);\n\n  const [editable, toggleEditable] = useState(true); // disabled true\n  const [showPosAdjuster, togglePosAdjuster] = useState(false);\n  const [showNegAdjuster, toggleNegAdjuster] = useState(false);\n  const [addTotal, setAddTotal] = useState(\"\");\n  const [subTotal, setSubTotal] = useState(\"\");\n  const [method, setMethod] = useState(\"Credit\");\n\n  useEffect(() => {\n    id && returnEnvelope(id);\n  }, [id]);\n\n  const returnEnvelope = async (id) => {\n    const { data } = await getEnvelope(id);\n    console.log(data);\n    setEnvelope(data);\n  };\n\n  const adjuster = (type = null) => {\n    togglePosAdjuster(false);\n    toggleNegAdjuster(false);\n    setAddTotal(\"\");\n    setSubTotal(\"\");\n    if (type !== null) {\n      type ? togglePosAdjuster(true) : toggleNegAdjuster(true);\n      setTimeout(() => scrollToRef(), 100);\n    }\n  };\n\n  // Format value to 2 decimals\n  const formatValues = (num, type) => {\n    if (type === \"+\") {\n      num = formatNumber(num, addTotal);\n      num && setAddTotal(num);\n    }\n    if (type === \"-\") {\n      num = formatNumber(num, subTotal);\n      num && setSubTotal(num);\n    }\n  };\n\n  const add2total = () => {\n    let update = envelope;\n\n    // Add up values and set to 2 decimals\n    update.values.total = (\n      Number(update.values.total) + Number(addTotal)\n    ).toFixed(2);\n\n    if (update.values.goal) {\n      update.values.percentage = Math.round(\n        (update.values.total / update.values.goal) * 100\n      );\n    }\n    updateHistory(update, addTotal);\n  };\n\n  const subFromTotal = () => {\n    let update = envelope;\n    // Subtract values and set to 2 decimals\n    update.values.total = (\n      Number(update.values.total) - Number(subTotal)\n    ).toFixed(2);\n\n    if (update.values.goal) {\n      update.values.percentage = Math.round(\n        (update.values.total / update.values.goal) * 100\n      );\n    }\n    updateHistory(update, \"-\" + subTotal);\n  };\n\n  const scrollToRef = () => {\n    window.scrollTo({\n      top: ScrollRef.current.offsetTop,\n      behavior: \"smooth\",\n    });\n  };\n\n  const updateEnvelope = (e) => {\n    let update = envelope;\n    switch (e.name) {\n      case \"desc\":\n        update.desc = e.value;\n        break;\n      case \"source\":\n        update.source = cpFirst(e.value);\n        break;\n      case \"method\":\n        update.method = cpFirst(e.value);\n        break;\n      case \"goal\":\n        update.values.goal = e.value;\n        break;\n      case \"total\":\n        update.values.total = e.value;\n        break;\n      case \"tag\":\n        update.tag.name = e.value;\n        break;\n      case \"tag-color\":\n        update.tag.color = e.value;\n        break;\n      default:\n        return;\n    }\n    setEnvelope({ ...envelope, ...update });\n  };\n\n  const enableEdit = () => {\n    toggleEditable(!editable);\n    setEnvelopeCopy(_.cloneDeep(envelope));\n  };\n\n  const updateHistory = (update, amount) => {\n    let date = new Date();\n    date =\n      date.getMonth() + 1 + \"/\" + date.getDate() + \"/\" + date.getFullYear();\n\n    update.history &&\n      update.history.unshift({\n        date: date,\n        amount: amount,\n        total: amount,\n        source: !_.isEmpty(subTotal) && update.source,\n        method: !_.isEmpty(subTotal) && update.method,\n      });\n\n    setEnvelope({ ...envelope, ...update });\n    updateTotal(update, amount);\n  };\n\n  const updateTotal = async (update, amount) => {\n    const edits = {\n      id: update.id,\n      amount: amount,\n      total: update.values.total,\n      source: !_.isEmpty(subTotal) && update.source,\n      method: !_.isEmpty(subTotal) && update.method,\n    };\n    console.log(edits);\n    const data = await editEnvelopeTotal(edits);\n    console.log(data);\n  };\n\n  // Save envelope to db\n  const save = async () => {\n    let edits = envelope;\n    delete edits.history;\n    // Save to db here\n    const data = await editEnvelope(edits);\n    console.log(data);\n\n    toggleEditable(!editable);\n  };\n\n  const cancelSave = () => {\n    setEnvelope({ ...envelopeCopy });\n    toggleEditable(!editable);\n  };\n\n  return (\n    <>\n      <Nav />\n      <section>\n        {!_.isEmpty(envelope) && (\n          <div className=\"container envelope\">\n            <h1>{envelope.name}</h1>\n            <hr />\n            <div className=\"flex-wrapper start mt-5\">\n              <div className=\"mr-auto fg-1\">\n                <CircleGraph props={envelope.values} showPercent={true} />\n              </div>\n              <form className=\"fg-3 mb-5\">\n                <div className=\"flex-wrapper\">\n                  {editable ? (\n                    <h4 className=\"tag mb-4\">\n                      <span className={\"badge bg-\" + envelope.tag.color}>\n                        {envelope.tag.name}\n                      </span>\n                    </h4>\n                  ) : (\n                    <div className=\"flex m-space\">\n                      <Input\n                        value={envelope.tag.name}\n                        onChange={(e) => updateEnvelope(e)}\n                        className=\"mw-150\"\n                        label=\"Tag name\"\n                        name=\"tag\"\n                      />\n                      <SelectColor\n                        defaultValue={envelope.tag.color}\n                        options={tagColors}\n                        onChange={(e) => updateEnvelope(e)}\n                        className=\"mw-150 mt-2\"\n                        name=\"tag-color\"\n                      />\n                    </div>\n                  )}\n                  {editable ? (\n                    <Button\n                      className=\"btn-edit btn-light\"\n                      action={() => enableEdit()}\n                    >\n                      Edit envelope <span className=\"edit\"></span>\n                    </Button>\n                  ) : (\n                    <div className=\"flex m-space edit-mobile-wrapper\">\n                      <Button\n                        className=\"btn-edit btn-success\"\n                        action={() => save()}\n                      >\n                        Save envelope\n                      </Button>\n                      <Button\n                        className=\"btn-close mt-2\"\n                        title=\"Cancel\"\n                        action={() => cancelSave()}\n                      />\n                    </div>\n                  )}\n                </div>\n                <h5>Description</h5>\n                <Textarea\n                  disabled={editable}\n                  value={envelope.desc && envelope.desc}\n                  placeholder={envelope.desc && envelope.desc}\n                  name=\"desc\"\n                  onChange={(e) => updateEnvelope(e)}\n                />\n                <h5>Amounts</h5>\n                <div className=\"flex-wrapper m-space\">\n                  <Input\n                    disabled={editable}\n                    value={envelope.values.goal ? envelope.values.goal : 0}\n                    placeholder={\n                      envelope.values.goal && \"$\" + envelope.values.goal\n                    }\n                    onChange={(e) => updateEnvelope(e)}\n                    className=\"mw-150\"\n                    label=\"Goal\"\n                    name=\"goal\"\n                    help=\"Desired goal to reach.\"\n                  />\n                  <div className=\"flex column\">\n                    <AdjustableInput\n                      disabled={editable}\n                      value={envelope.values && envelope.values.total}\n                      placeholder={\n                        envelope.values && \"$\" + envelope.values.total\n                      }\n                      adjustableClick={(v) => adjuster(v)}\n                      onChange={(e) => updateEnvelope(e)}\n                      className=\"mw-150\"\n                      label=\"Total\"\n                      name=\"total\"\n                      help=\"Current amount in envelope.\"\n                    />\n                    <div ref={ScrollRef} className=\"input-button-wrapper\">\n                      {showPosAdjuster && (\n                        <>\n                          <Input\n                            help=\"Enter amount to add.\"\n                            className=\"mw-150\"\n                            name=\"add-total\"\n                            value={addTotal}\n                            onChange={(e) => formatValues(e.value, \"+\")}\n                          />\n                          <Button\n                            text=\"Add\"\n                            className=\"btn-success\"\n                            action={() => add2total()}\n                          />\n                          <Button\n                            className=\"btn-close\"\n                            action={() => adjuster()}\n                          />\n                        </>\n                      )}\n                      {showNegAdjuster && (\n                        <>\n                          <Input\n                            type=\"number\"\n                            help=\"Enter amount to subtract.\"\n                            className=\"mw-150\"\n                            name=\"sub-total\"\n                            value={subTotal}\n                            onChange={(e) => formatValues(e.value, \"-\")}\n                          />\n                          <Button\n                            text=\"Subtract\"\n                            className=\"btn-warning\"\n                            action={() => subFromTotal()}\n                          />\n                          <Button\n                            className=\"btn-close\"\n                            action={() => adjuster()}\n                          />\n                        </>\n                      )}\n                    </div>\n                  </div>\n\n                  {showNegAdjuster && (\n                    <div>\n                      <Select\n                        label=\"Method\"\n                        defaultValue={\n                          envelope.defaultMethod && envelope.defaultMethod\n                        }\n                        onChange={(e) => updateEnvelope(e)}\n                        className=\"mw-150\"\n                        name=\"method\"\n                        options={config.methods}\n                      />\n                      <Input\n                        label=\"Source\"\n                        help=\"Enter source of transaction.\"\n                        className=\"mw-150\"\n                        name=\"source\"\n                        value={envelope.source && envelope.source}\n                        onChange={(e) => updateEnvelope(e)}\n                      />\n                    </div>\n                  )}\n                </div>\n              </form>\n            </div>\n            {!_.isEmpty(envelope.history) && (\n              <div>\n                <h5>Transactions</h5>\n                <Table props={envelope.history} />\n              </div>\n            )}\n          </div>\n        )}\n      </section>\n      <Footer />\n    </>\n  );\n};\n\nexport default Envelopes;\n","import React, { useState, useEffect } from \"react\";\nimport { addEnvelope, getTags } from \"../../services/http\";\nimport { formatNumber } from \"../../services/utilities\";\nimport { Link } from \"@reach/router\";\nimport config from \"../../config\";\nimport _ from \"lodash\";\nimport Nav from \"../common/nav\";\nimport Footer from \"../common/footer\";\n\nimport CircleGraph from \"../common/circleGraph\";\nimport Button from \"../common/Button\";\nimport Input from \"../common/form-input\";\nimport Textarea from \"../common/form-textarea\";\nimport Select from \"../common/form-select\";\nimport SelectColor from \"../common/form-select-color\";\n\nconst NewEnvelope = () => {\n  const [envelope, setEnvelope] = useState(config.newEnvelope);\n  const [tags, setTags] = useState(null);\n  const [showNewTag, toggleShowNewTag] = useState(false);\n  const [tagColors, setTagColors] = useState(config.tagOptions);\n  const [errors, setErrors] = useState({});\n  const [addTotal, setAddTotal] = useState(\"\");\n  const [addGoal, setAddGoal] = useState(\"\");\n  const [percentage, setPercentage] = useState(0);\n\n  useEffect(() => updateTags(), []);\n\n  const updateTags = async () => {\n    const { data } = await getTags();\n    data.push({ name: \"Create new\", value: \"showNewTag\" });\n    setTags(data);\n  };\n\n  // Format value to 2 decimals\n  const formatValues = (num, type) => {\n    if (type === \"total\") {\n      num = formatNumber(num, addTotal);\n      num && setAddTotal(num);\n      addGoal > 0 && setPercentage((num / addGoal) * 100);\n    }\n    if (type === \"goal\") {\n      num = formatNumber(num, addGoal);\n      num && setAddGoal(num);\n      num > 0 && setPercentage((addTotal / num) * 100);\n    }\n  };\n\n  const updateEnvelope = (e) => {\n    let update = envelope;\n    switch (e.name) {\n      case \"name\":\n        update.name = e.value;\n        break;\n      case \"account\":\n        update.account = e.value;\n        break;\n      case \"desc\":\n        update.desc = e.value;\n        break;\n      case \"source\":\n        update.defaultMethod = e.value;\n        break;\n      case \"tag\":\n        update.tag.name = e.value;\n        break;\n      case \"current-tags\":\n        if (e.value === \"showNewTag\") {\n          toggleShowNewTag(true);\n          update.tag.color = config.tagOptions[0].value;\n        } else {\n          toggleShowNewTag(false);\n          update.tag.name = e.value;\n          const tag = tags.find((v) => v.value === e.value);\n          update.tag.color = tag.color;\n        }\n        break;\n      case \"tag-color\":\n        update.tag.color = e.value;\n        break;\n      default:\n        return;\n    }\n    setEnvelope({ ...envelope, ...update });\n  };\n\n  // Save envelope to db\n  const save = async () => {\n    setErrors({});\n    const form = envelope;\n\n    // Add state values\n    form.values.goal = addGoal;\n    form.values.total = addTotal;\n\n    //! Required\n    if (form.name === \"\") {\n      setErrors({ ...errors, name: true });\n      return;\n    }\n\n    console.log(form);\n    const data = await addEnvelope(form);\n    console.log(data);\n    // Reset\n    setEnvelope(config.newEnvelope);\n  };\n\n  return (\n    <>\n      <Nav />\n      <section>\n        {!_.isEmpty(envelope) && (\n          <div className=\"container envelope\">\n            <div className=\"flex-wrapper\">\n              <Input\n                required={true}\n                error={errors.name}\n                value={envelope[\"name\"]}\n                placeholder=\"Groceries\"\n                onChange={(e) => updateEnvelope(e)}\n                className=\"mw-150\"\n                label=\"Envelope name\"\n                name=\"name\"\n              />\n              <div className=\"flex m-space edit-mobile-wrapper mt-4\">\n                <Button className=\"btn-edit btn-success\" action={() => save()}>\n                  Add new envelope\n                </Button>\n                <Link className=\"btn btn-close mt-2\" title=\"Cancel\" to=\"/\" />\n              </div>\n            </div>\n            <hr />\n            <div className=\"flex-wrapper start no-wrap mt-5\">\n              <div className=\"mr-auto fg-1\">\n                <CircleGraph\n                  props={{\n                    goal: addGoal,\n                    total: addTotal,\n                    percentage: percentage,\n                  }}\n                  showPercent={true}\n                />\n              </div>\n              <form className=\"fg-3 mb-5\">\n                <div className=\"flex m-space\">\n                  <Select\n                    label=\"Tags\"\n                    onChange={(e) => updateEnvelope(e)}\n                    name=\"current-tags\"\n                    options={tags && tags}\n                  />\n                  {showNewTag && (\n                    <>\n                      <Input\n                        value={envelope.tag.name}\n                        placeholder=\"Food\"\n                        onChange={(e) => updateEnvelope(e)}\n                        className=\"mw-150\"\n                        label=\"New tag name\"\n                        name=\"tag\"\n                      />\n                      <SelectColor\n                        defaultValue={envelope.tag.color}\n                        options={tagColors}\n                        onChange={(e) => updateEnvelope(e)}\n                        className=\"mw-150 mt-2\"\n                        name=\"tag-color\"\n                      />\n                    </>\n                  )}\n                </div>\n                <h5>Description</h5>\n                <Textarea\n                  value={envelope.desc && envelope.desc}\n                  placeholder=\"Add a description of this envelope\"\n                  name=\"desc\"\n                  onChange={(e) => updateEnvelope(e)}\n                />\n                <h5>Amounts</h5>\n                <div className=\"flex-wrapper\">\n                  <Input\n                    value={addGoal}\n                    placeholder=\"$100.00\"\n                    onChange={(e) => formatValues(e.value, \"goal\")}\n                    label=\"Goal\"\n                    name=\"goal\"\n                    help=\"Desired goal to reach.\"\n                  />\n                  <Input\n                    value={addTotal}\n                    placeholder=\"$20.00\"\n                    onChange={(e) => formatValues(e.value, \"total\")}\n                    label=\"Total\"\n                    name=\"total\"\n                    help=\"Current amount in envelope.\"\n                  />\n                  <Select\n                    label=\"Default method\"\n                    defaultValue={\n                      envelope.defaultMethod && envelope.defaultMethod\n                    }\n                    onChange={(e) => updateEnvelope(e)}\n                    name=\"source\"\n                    options={config.methods}\n                    help=\"Set default source for withdrawals.\"\n                  />\n                  <Input\n                    value={config.account}\n                    placeholder=\"Savings / Cash\"\n                    onChange={(e) => updateEnvelope(e)}\n                    label=\"Account name\"\n                    name=\"account\"\n                    help=\"Primary location of funds.\"\n                  />\n                </div>\n              </form>\n            </div>\n          </div>\n        )}\n      </section>\n      <Footer />\n    </>\n  );\n};\n\nexport default NewEnvelope;\n","import React from \"react\";\nimport { Router } from \"@reach/router\";\nimport session from \"./services/session\";\n// Routes\nimport Home from \"./components/Home/index\";\nimport Login from \"./components/Login/index\";\nimport Logout from \"./components/Logout/index\";\nimport Envelopes from \"./components/Envelopes\";\nimport NewEnvelope from \"./components/Envelopes/new\";\n\nconst App = () => {\n  const token = session.get(\"token\");\n  return (\n    <Router>\n      {token && (\n        <>\n          <Home path=\"/\" />\n          <Envelopes path=\"/envelope/:id\" />\n          <NewEnvelope path=\"/envelope/new/\" />\n          <Logout path=\"/logout\" />\n        </>\n      )}\n      <Login path=\"/login\" />\n      <Login default />\n    </Router>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./assets/css/bootstrap.min.css\";\nimport \"./assets/scss/index.scss\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}